<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HEART MAP - A Valentine's Love Letter For My One & Only</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Playfair+Display:ital,wght@0,400;0,500;1,400&family=Dancing+Script:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --cream: #FDF8F3;
      --sage: #7D8B6F;
      --deep-sage: #5C6B4F;
      --blush: #E8DDD4;
      --moss: #4A5D3E;
      --rose-gold: #B76E79;
      --dusty-rose: #C9A9A6;
      --soft-pink: #E8B4B8;
      --pale-pink: #F5C6D6;
    }
    
    body {
      background: var(--cream);
      font-family: 'Playfair Display', serif;
      color: var(--deep-sage);
      overflow-x: hidden;
      margin: 0;
      padding: 0;
    }
    
    .romantic-title {
      font-family: 'Cormorant Garamond', serif;
    }
    
    .script-font {
      font-family: 'Dancing Script', cursive;
    }
    
    /* Floating petal animation */
    @keyframes floatPetal {
      0% {
        transform: translateY(100vh) rotate(0deg) translateX(0);
        opacity: 0;
      }
      10% {
        opacity: 0.7;
      }
      90% {
        opacity: 0.7;
      }
      100% {
        transform: translateY(-100px) rotate(360deg) translateX(100px);
        opacity: 0;
      }
    }
    
    @keyframes floatPetalPink {
      0% {
        transform: translateY(100vh) rotate(180deg) translateX(-50px);
        opacity: 0;
      }
      10% {
        opacity: 0.6;
      }
      90% {
        opacity: 0.6;
      }
      100% {
        transform: translateY(-100px) rotate(540deg) translateX(50px);
        opacity: 0;
      }
    }
    
    .floating-petal {
      position: fixed;
      pointer-events: none;
      z-index: 0;
      animation: floatPetal linear forwards;
    }
    
    .floating-petal.pink {
      animation: floatPetalPink linear forwards;
    }
    
    /* Heart animation */
    @keyframes pulseHeart {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
    }
    
    .pulse-heart {
      animation: pulseHeart 3s ease-in-out infinite;
    }
    
    @keyframes pulseHeartPink {
      0%, 100% {
        transform: scale(1);
        filter: drop-shadow(0 0 5px rgba(183, 110, 121, 0.3));
      }
      50% {
        transform: scale(1.1);
        filter: drop-shadow(0 0 15px rgba(183, 110, 121, 0.5));
      }
    }
    
    .pulse-heart-pink {
      animation: pulseHeartPink 3s ease-in-out infinite;
    }
    
    /* Fade animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .fade-in-up {
      animation: fadeInUp 1s ease-out forwards;
    }
    
    @keyframes fadeOut {
      from {
        opacity: 1;
      }
      to {
        opacity: 0;
        visibility: hidden;
      }
    }
    
    .fade-out {
      animation: fadeOut 1s ease-out forwards;
    }
    
    /* Editable content */
    .editable-content {
      min-height: 20px;
      outline: none;
      padding: 2px 4px;
      border-radius: 4px;
      transition: background-color 0.2s;
      border: 1px dashed transparent;
      min-width: 50px;
    }
    
    .editable-content:focus {
      background-color: rgba(125, 139, 111, 0.05);
      border: 1px dashed rgba(125, 139, 111, 0.3);
    }
    
    .editable-content[data-placeholder]:empty:before {
      content: attr(data-placeholder);
      color: rgba(92, 107, 79, 0.5);
      font-style: italic;
    }
    
    /* Navigation dots */
    .fixed-nav {
      position: fixed;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 100;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .nav-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: rgba(125, 139, 111, 0.3);
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .nav-dot:hover {
      background: var(--rose-gold);
      transform: scale(1.3);
    }
    
    .nav-dot.active {
      background: var(--rose-gold);
      transform: scale(1.5);
    }
    
    /* Hero content */
    .hero-content {
      background: rgba(253, 248, 243, 0.95);
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 10px 30px rgba(92, 107, 79, 0.1);
      border: 1px solid var(--blush);
    }
    
    /* Letter container */
    .letter-container {
      background: linear-gradient(to bottom, #fffbf6 0%, #fef9f3 100%);
      box-shadow: 0 10px 30px rgba(92, 107, 79, 0.1);
      border: 1px solid var(--blush);
      max-height: 500px;
      overflow-y: auto;
      border-radius: 20px;
    }
    
    /* Share modal */
    .share-modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.7);
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    
    .share-modal.active {
      opacity: 1;
      visibility: visible;
    }
    
    .share-modal-content {
      background: var(--cream);
      border-radius: 20px;
      padding: 2rem;
      max-width: 500px;
      width: 90%;
      transform: translateY(20px);
      transition: transform 0.3s ease;
      border: 1px solid var(--blush);
    }
    
    .share-modal.active .share-modal-content {
      transform: translateY(0);
    }
    
    .share-options {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin: 1.5rem 0;
    }
    
    .share-option {
      padding: 1rem;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
      background: var(--cream);
      border: 2px solid var(--blush);
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .share-option:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(125, 139, 111, 0.2);
      border-color: var(--rose-gold);
    }
    
    /* Button styles */
    .sage-button {
      background: var(--sage);
      color: var(--cream);
      border: none;
      transition: all 0.3s ease;
    }
    
    .sage-button:hover {
      background: var(--moss);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(125, 139, 111, 0.3);
    }
    
    .pink-button {
      background: var(--rose-gold);
      color: var(--cream);
      border: none;
      transition: all 0.3s ease;
    }
    
    .pink-button:hover {
      background: #A55A65;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(183, 110, 121, 0.3);
    }
    
    .outline-button {
      background: transparent;
      color: var(--sage);
      border: 2px solid var(--sage);
      transition: all 0.3s ease;
    }
    
    .outline-button:hover {
      background: var(--sage);
      color: var(--cream);
    }
    
    .pink-outline-button {
      background: transparent;
      color: var(--rose-gold);
      border: 2px solid var(--rose-gold);
      transition: all 0.3s ease;
    }
    
    .pink-outline-button:hover {
      background: var(--rose-gold);
      color: var(--cream);
    }
    
    /* Gradient backgrounds */
    .pink-gradient {
      background: linear-gradient(135deg, rgba(232, 180, 184, 0.1) 0%, rgba(245, 198, 214, 0.1) 100%);
    }
    
    .mixed-gradient {
      background: linear-gradient(135deg, rgba(125, 139, 111, 0.1) 0%, rgba(183, 110, 121, 0.1) 100%);
    }
    
    /* Mobile responsive */
    @media (max-width: 768px) {
      .fixed-nav {
        display: none !important;
      }
      
      .hero-content {
        padding: 1rem;
      }
      
      .letter-container {
        max-height: 400px;
      }
      
      .share-options {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- Floating Petals -->
  <div id="petal-container"></div>
  
  <!-- Welcome Screen - CREAM, GREEN & PINK VERSION -->
  <div id="welcome-screen" class="fixed inset-0 z-50 flex items-center justify-center" style="background: linear-gradient(135deg, rgba(183, 110, 121, 0.1) 0%, #FDF8F3 50%, #E8DDD4 100%);">
    <div class="text-center px-6 max-w-4xl">
      <div class="fade-in-up">
        <!-- Big Heart Icon -->
        <div class="mb-8">
          <div class="relative inline-block">
            <svg class="w-32 h-32 mx-auto pulse-heart" fill="#7D8B6F" viewBox="0 0 24 24">
              <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
            </svg>
            <svg class="w-24 h-24 mx-auto absolute top-4 left-4 pulse-heart-pink" fill="#B76E79" viewBox="0 0 24 24" style="opacity: 0.8;">
              <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
            </svg>
          </div>
        </div>
        
        <!-- Title -->
        <h1 class="script-font text-6xl md:text-8xl mb-6" style="background: linear-gradient(to right, #7D8B6F, #B76E79); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
          Happy Valentine's Day
        </h1>
        
        <!-- Subtitle with decorative icons -->
        <div class="relative inline-block mb-12">
          <svg class="absolute -left-12 top-1/2 transform -translate-y-1/2 w-8 h-8 pulse-heart-pink" style="color: #B76E79; opacity: 0.7;" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2L9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2z"/>
          </svg>
          
          <p class="romantic-title text-2xl md:text-3xl italic px-12" style="color: #5C6B4F;">
            Where every moment blooms with love
          </p>
          
          <svg class="absolute -right-12 top-1/2 transform -translate-y-1/2 w-8 h-8 pulse-heart" style="color: #7D8B6F; opacity: 0.7;" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2L9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2z"/>
          </svg>
        </div>
        
        <!-- Description -->
        <p class="text-lg md:text-xl mb-8 max-w-2xl mx-auto" style="color: rgba(92, 107, 79, 0.8);">
          A special message has been crafted just for you.<br>
          Let the romance unfold...
        </p>
        
        <!-- Enter Button -->
        <button id="enter-btn" class="px-12 py-4 rounded-full hover:shadow-xl hover:-translate-y-1 transition-all duration-300 text-lg romantic-title tracking-widest pink-button">
          Enter Our Garden of Love
        </button>
      </div>
    </div>
  </div>

  <!-- Navigation Dots -->
  <div id="navigation-dots" class="fixed-nav">
    <div class="nav-dot active" data-section="hero"></div>
    <div class="nav-dot" data-section="letter"></div>
    <div class="nav-dot" data-section="memories"></div>
  </div>

  <!-- Main Content -->
  <div id="main-content" class="hidden">
   
   <!-- Hero Section -->
   <section id="hero" class="min-h-screen flex items-center justify-center px-4">
    <div class="text-center max-w-4xl">
      <div class="hero-content pink-gradient">
        <h1 class="romantic-title text-4xl md:text-5xl lg:text-7xl mb-4" style="color: #5C6B4F;">
          My Dearest
        </h1>
        
        <input type="text" 
               id="partner-name" 
               placeholder="Type your partner's name here..." 
               class="partner-name-input mb-6"
               style="font-family: 'Dancing Script', cursive; font-size: 3rem; background: linear-gradient(to right, #7D8B6F, #B76E79); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background: transparent; border: none; outline: none; text-align: center; width: 100%; max-width: 400px; margin: 0 auto; display: block;">
        
        <div id="name-underline" class="h-px w-0 mx-auto transition-all duration-1000" style="background: linear-gradient(to right, transparent, #7D8B6F, #B76E79, transparent);"></div>
        
        <p class="text-lg md:text-xl italic max-w-2xl mx-auto my-8 leading-relaxed" style="color: rgba(92, 107, 79, 0.7);">
          Every rose in this garden represents a reason why I love you.<br class="hidden md:block">
          Every petal holds a memory of us.
        </p>
        
        <div class="flex flex-col sm:flex-row gap-3 md:gap-4 justify-center items-center mb-8">
          <button data-section="letter" class="section-btn px-6 md:px-8 py-3 md:py-4 rounded-full transition-all duration-300 w-full sm:w-auto romantic-title tracking-widest pink-button">
            <i class="fas fa-heart mr-2"></i>
            To My Beloved
          </button>
          
          <button data-section="memories" class="section-btn px-6 md:px-8 py-3 md:py-4 rounded-full transition-all duration-300 flex items-center justify-center gap-2 md:gap-3 w-full sm:w-auto romantic-title tracking-widest pink-outline-button">
            <i class="fas fa-images"></i>
            Our Memories
          </button>
        </div>
        
        <!-- Music Player -->
        <div class="music-player-bar p-4 rounded-xl max-w-md mx-auto mixed-gradient" style="border: 1px solid #E8DDD4;">
          <div class="flex flex-col items-center gap-3">
            <div class="text-center w-full">
              <div id="now-playing" class="script-font text-xl truncate" style="background: linear-gradient(to right, #7D8B6F, #B76E79); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Select a Song</div>
              <div id="song-info" class="text-sm italic truncate" style="color: rgba(92, 107, 79, 0.7);">Upload our love song</div>
            </div>
            
            <div class="flex items-center justify-between w-full px-2">
              <button id="prev-btn" class="p-2 rounded-full transition-colors" style="background: rgba(183, 110, 121, 0.1);">
                <i class="fas fa-step-backward" style="color: #B76E79;"></i>
              </button>
              
              <button id="play-btn" class="p-3 rounded-full shadow-lg transition-colors pink-button">
                <i id="play-icon" class="fas fa-play"></i>
                <i id="pause-icon" class="fas fa-pause hidden"></i>
              </button>
              
              <button id="next-btn" class="p-2 rounded-full transition-colors" style="background: rgba(183, 110, 121, 0.1);">
                <i class="fas fa-step-forward" style="color: #B76E79;"></i>
              </button>
              
              <button id="upload-song-btn" class="p-2 rounded-full transition-colors" style="background: rgba(183, 110, 121, 0.1);">
                <i class="fas fa-upload" style="color: #B76E79;"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
   </section>
   
   <!-- Letter Section -->
   <section id="letter" class="min-h-screen py-12 md:py-20 px-4">
    <div class="max-w-6xl mx-auto">
      <h2 class="romantic-title text-3xl md:text-4xl lg:text-5xl text-center mb-8" style="color: #5C6B4F;">
        Sealed with Love
      </h2>
      <p class="text-center text-lg md:text-xl italic mb-8" style="color: #B76E79;">
        Click the envelope to reveal my heart
      </p>
      
      <div class="flex flex-col items-center justify-center">
        <!-- Envelope -->
        <div class="relative w-full max-w-2xl">
          <div id="envelope" class="relative cursor-pointer p-6 md:p-12 pt-16 md:pt-20 rounded-3xl shadow-xl pink-gradient" style="border: 2px solid #E8DDD4;">
            <!-- Heart Seal -->
            <div id="wax-seal" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 md:w-24 md:h-24 rounded-full flex items-center justify-center shadow-xl cursor-pointer pulse-heart-pink" style="background: linear-gradient(135deg, #B76E79, #C9A9A6);">
              <i class="fas fa-heart text-white text-2xl md:text-4xl"></i>
            </div>
            
            <!-- Letter Content -->
            <div id="letter-content" class="letter-container p-4 md:p-8 mt-6 md:mt-8 opacity-0 transition-all duration-700">
              <div class="relative">
                <!-- Decorative corner -->
                <div class="absolute -top-2 -left-2 w-8 h-8 text-2xl" style="color: #B76E79;">
                  ‚ù¶
                </div>
                <div class="absolute -bottom-2 -right-2 w-8 h-8 text-2xl" style="color: #B76E79;">
                  ‚ù¶
                </div>
                
                <!-- Letter content -->
                <div class="mb-6">
                  <div class="text-right text-sm romantic-title mb-2" style="color: rgba(183, 110, 121, 0.7);">
                    <div class="editable-content" contenteditable="true" data-placeholder="Click to edit date..."></div>
                  </div>
                  
                  <h3 class="script-font text-2xl md:text-3xl text-center mb-8" style="background: linear-gradient(to right, #7D8B6F, #B76E79); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    To My Dearest <span id="letter-recipient" class="editable-content" contenteditable="true" data-placeholder="Your partner's name"></span>
                  </h3>
                  
                  <div class="space-y-4 leading-relaxed" style="color: #5C6B4F;">
                    <p class="indent-8">
                      <span class="editable-content" contenteditable="true" data-placeholder="My love,"></span>
                    </p>
                    
                    <p class="editable-content" contenteditable="true" data-placeholder="Write your love letter here...">
                    </p>
                    
                    <p class="editable-content" contenteditable="true" data-placeholder="Continue writing your message...">
                    </p>
                    
                    <p class="editable-content" contenteditable="true" data-placeholder="Add more to your love letter...">
                    </p>
                    
                    <p class="mt-8 editable-content" contenteditable="true" data-placeholder="With all my love,">
                    </p>
                  </div>
                  
                  <div class="mt-10 pt-6" style="border-top: 1px solid rgba(183, 110, 121, 0.2);">
                    <div class="editable-content script-font text-2xl md:text-3xl text-center" contenteditable="true" id="signature" data-placeholder="Your name" style="background: linear-gradient(to right, #7D8B6F, #B76E79); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></div>
                    <div class="text-center text-sm romantic-title mt-2" style="color: rgba(183, 110, 121, 0.5);">
                      Sealed with a kiss and all my heart
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <p class="text-center mt-6 italic text-sm" style="color: rgba(183, 110, 121, 0.6);">
              Click the heart seal to open this letter of love
            </p>
          </div>
        </div>
        
        <!-- Navigation Buttons -->
        <div class="flex justify-center gap-4 mt-8">
          <button data-section="hero" class="section-btn px-4 py-2 rounded-full transition-all duration-300 pink-outline-button">
            <i class="fas fa-home mr-2"></i>
            Back to Home
          </button>
          <button data-section="memories" class="section-btn px-4 py-2 rounded-full transition-all duration-300 pink-button">
            <i class="fas fa-images mr-2"></i>
            View Memories
          </button>
        </div>
      </div>
    </div>
   </section>
   
   <!-- Memories Section -->
   <section id="memories" class="min-h-screen py-12 md:py-20 px-4">
    <div class="max-w-6xl mx-auto">
      <h2 class="romantic-title text-3xl md:text-4xl lg:text-5xl text-center mb-4" style="color: #5C6B4F;">
        Petals of Our Memories
      </h2>
      <p class="text-center text-base md:text-xl italic mb-8 md:mb-16 max-w-2xl mx-auto" style="color: rgba(183, 110, 121, 0.7);">
        Each photo is a pressed flower in the book of our love story
      </p>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 mb-8 md:mb-12">
        <!-- Memory 1 - Rose -->
        <div class="group">
          <div class="aspect-square rounded-2xl overflow-hidden shadow-lg pink-gradient">
            <div id="memory-1" class="w-full h-full flex flex-col items-center justify-center cursor-pointer relative">
              <div class="mb-4 transition-colors duration-300 pulse-heart-pink" style="color: rgba(183, 110, 121, 0.5);">
                <i class="fas fa-heart text-6xl"></i>
              </div>
              <span class="romantic-title transition-colors duration-300" style="color: rgba(183, 110, 121, 0.7);">
                Add Our Memory
              </span>
              <span class="text-xs mt-2" style="color: rgba(183, 110, 121, 0.5);">Click to upload photo</span>
              
              <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <div class="w-16 h-16 rounded-full flex items-center justify-center pulse-heart-pink" style="background: rgba(183, 110, 121, 0.8);">
                  <i class="fas fa-plus text-white text-2xl"></i>
                </div>
              </div>
            </div>
          </div>
          <div class="mt-4">
            <textarea class="memory-caption w-full bg-transparent border-b focus:outline-none resize-none p-2 text-center italic" 
                      placeholder="Describe this beautiful moment..." 
                      rows="2"
                      style="color: rgba(183, 110, 121, 0.7); border-bottom: 1px solid rgba(183, 110, 121, 0.2);"></textarea>
          </div>
        </div>
        
        <!-- Memory 2 - Mixed -->
        <div class="group">
          <div class="aspect-square rounded-2xl overflow-hidden shadow-lg mixed-gradient">
            <div id="memory-2" class="w-full h-full flex flex-col items-center justify-center cursor-pointer relative">
              <div class="mb-4 transition-colors duration-300 pulse-heart" style="color: rgba(125, 139, 111, 0.5);">
                <i class="fas fa-leaf text-6xl"></i>
              </div>
              <span class="romantic-title transition-colors duration-300" style="color: rgba(125, 139, 111, 0.7);">
                Add Our Memory
              </span>
              <span class="text-xs mt-2" style="color: rgba(125, 139, 111, 0.5);">Click to upload photo</span>
              
              <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <div class="w-16 h-16 rounded-full flex items-center justify-center" style="background: rgba(125, 139, 111, 0.8);">
                  <i class="fas fa-plus text-white text-2xl"></i>
                </div>
              </div>
            </div>
          </div>
          <div class="mt-4">
            <textarea class="memory-caption w-full bg-transparent border-b focus:outline-none resize-none p-2 text-center italic" 
                      placeholder="Describe this beautiful moment..." 
                      rows="2"
                      style="color: rgba(125, 139, 111, 0.7); border-bottom: 1px solid rgba(125, 139, 111, 0.2);"></textarea>
          </div>
        </div>
        
        <!-- Memory 3 - Pink -->
        <div class="group">
          <div class="aspect-square rounded-2xl overflow-hidden shadow-lg pink-gradient">
            <div id="memory-3" class="w-full h-full flex flex-col items-center justify-center cursor-pointer relative">
              <div class="mb-4 transition-colors duration-300 pulse-heart-pink" style="color: rgba(245, 198, 214, 0.7);">
                <i class="fas fa-seedling text-6xl"></i>
              </div>
              <span class="romantic-title transition-colors duration-300" style="color: rgba(183, 110, 121, 0.7);">
                Add Our Memory
              </span>
              <span class="text-xs mt-2" style="color: rgba(183, 110, 121, 0.5);">Click to upload photo</span>
              
              <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <div class="w-16 h-16 rounded-full flex items-center justify-center pulse-heart-pink" style="background: rgba(183, 110, 121, 0.8);">
                  <i class="fas fa-plus text-white text-2xl"></i>
                </div>
              </div>
            </div>
          </div>
          <div class="mt-4">
            <textarea class="memory-caption w-full bg-transparent border-b focus:outline-none resize-none p-2 text-center italic" 
                      placeholder="Describe this beautiful moment..." 
                      rows="2"
                      style="color: rgba(183, 110, 121, 0.7); border-bottom: 1px solid rgba(183, 110, 121, 0.2);"></textarea>
          </div>
        </div>
      </div>
      
      <!-- Navigation Buttons -->
      <div class="flex justify-center gap-4 mb-12">
        <button data-section="letter" class="section-btn px-4 py-2 rounded-full transition-all duration-300 pink-outline-button">
          <i class="fas fa-envelope mr-2"></i>
          Back to Letter
        </button>
        <button data-section="hero" class="section-btn px-4 py-2 rounded-full transition-all duration-300 pink-button">
          <i class="fas fa-home mr-2"></i>
          Back to Home
        </button>
      </div>
      
      <!-- Final Message -->
      <div class="text-center mt-12 md:mt-20 pt-8 md:pt-12">
        <div class="inline-block p-6 md:p-8 rounded-3xl shadow-lg max-w-2xl pink-gradient" style="border: 1px solid #E8DDD4;">
          <h3 class="script-font text-3xl md:text-4xl mb-4" style="background: linear-gradient(to right, #7D8B6F, #B76E79); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
            To My Eternal Valentine
          </h3>
          <p class="text-base md:text-lg italic mb-6" style="color: rgba(92, 107, 79, 0.7);">
            Like these flowers that never truly fade, my love for you is eternal.<br class="hidden md:block">
            Through every season, in every bloom, my heart finds its home in you.
          </p>
          <div class="mt-6">
            <div class="editable-content script-font text-xl md:text-2xl text-center" contenteditable="true" id="final-signature" data-placeholder="Forever Yours" style="background: linear-gradient(to right, #7D8B6F, #B76E79); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></div>
            <div class="text-sm romantic-title mt-2" style="color: rgba(183, 110, 121, 0.5);">
              and every day thereafter
            </div>
          </div>

          <!-- Share Button -->
          <div class="mt-8">
            <button id="share-gift-btn" class="px-8 py-4 rounded-full transition-all duration-300 flex items-center justify-center gap-3 mx-auto pink-button">
              <i class="fas fa-share-alt"></i>
              <span class="romantic-title text-lg">Share This Gift With Your Love</span>
              <i class="fas fa-heart animate-pulse"></i>
            </button>
            <p class="text-sm mt-3 italic" style="color: rgba(183, 110, 121, 0.6);">
              Once shared, your love story will become view-only for your partner!
            </p>
          </div>
        </div>
      </div>
    </div>
   </section>
  </div>

  <!-- Share Modal -->
  <div id="share-modal" class="share-modal">
    <div class="share-modal-content pink-gradient">
      <h3 class="text-2xl font-bold text-center mb-2" style="color: #5C6B4F;">Share Your Love Gift</h3>
      <p class="text-center mb-6" style="color: rgba(183, 110, 121, 0.7);">Choose how to share this special gift</p>
      
      <div class="share-options">
        <div class="share-option" id="whatsapp-share">
          <div class="share-icon rounded-full w-10 h-10 flex items-center justify-center" style="background: #25D366; color: white;">
            <i class="fab fa-whatsapp"></i>
          </div>
          <span class="font-medium" style="color: #5C6B4F;">WhatsApp</span>
        </div>
        
        <div class="share-option" id="copy-link">
          <div class="share-icon rounded-full w-10 h-10 flex items-center justify-center" style="background: #B76E79; color: white;">
            <i class="fas fa-link"></i>
          </div>
          <span class="font-medium" style="color: #5C6B4F;">Copy Link</span>
        </div>
      </div>
      
      <div class="mt-6 text-center">
        <button id="close-share-modal" class="px-6 py-2 rounded-full transition-all duration-300 pink-outline-button">
          Cancel
        </button>
      </div>
    </div>
  </div>

  <!-- File Inputs -->
  <input type="file" id="memory-upload" class="hidden" accept="image/*">
  <input type="file" id="song-upload" class="hidden" accept="audio/*">
  <audio id="audio-player"></audio>

  <script>
    // ========== INITIALIZATION ==========
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Page loaded - Initializing...');
      
      // Initialize all components
      initWelcomeScreen();
      initNavigation();
      initLetter();
      initMemories();
      initMusicPlayer();
      initShareModal();
      initFloatingPetals();
      
      console.log('Initialization complete!');
    });
    
    // ========== WELCOME SCREEN ==========
    function initWelcomeScreen() {
      const enterBtn = document.getElementById('enter-btn');
      const welcomeScreen = document.getElementById('welcome-screen');
      const mainContent = document.getElementById('main-content');
      
      enterBtn.addEventListener('click', function() {
        console.log('Enter button clicked');
        welcomeScreen.classList.add('fade-out');
        
        setTimeout(() => {
          welcomeScreen.style.display = 'none';
          mainContent.classList.remove('hidden');
          console.log('Main content shown');
        }, 1000);
      });
    }
    
    // ========== NAVIGATION ==========
    function initNavigation() {
      // Navigation dots
      const navDots = document.querySelectorAll('.nav-dot');
      navDots.forEach(dot => {
        dot.addEventListener('click', function() {
          const sectionId = this.getAttribute('data-section');
          scrollToSection(sectionId);
        });
      });
      
      // Section buttons
      const sectionBtns = document.querySelectorAll('.section-btn');
      sectionBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          const sectionId = this.getAttribute('data-section');
          scrollToSection(sectionId);
        });
      });
      
      // Scroll tracking
      window.addEventListener('scroll', function() {
        updateActiveNavDot();
      });
    }
    
    function scrollToSection(sectionId) {
      console.log(`Scrolling to section: ${sectionId}`);
      const section = document.getElementById(sectionId);
      
      if (section) {
        // Update active dot
        updateNavDot(sectionId);
        
        // Scroll to section
        section.scrollIntoView({ behavior: 'smooth' });
      } else {
        console.error(`Section ${sectionId} not found`);
      }
    }
    
    function updateNavDot(sectionId) {
      const dots = document.querySelectorAll('.nav-dot');
      dots.forEach(dot => {
        dot.classList.remove('active');
        if (dot.getAttribute('data-section') === sectionId) {
          dot.classList.add('active');
        }
      });
    }
    
    function updateActiveNavDot() {
      const sections = ['hero', 'letter', 'memories'];
      const scrollPosition = window.scrollY + 100;
      
      for (const sectionId of sections) {
        const section = document.getElementById(sectionId);
        if (section) {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.offsetHeight;
          
          if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
            updateNavDot(sectionId);
            break;
          }
        }
      }
    }
    
    // ========== LETTER SECTION ==========
    function initLetter() {
      const envelope = document.getElementById('envelope');
      const waxSeal = document.getElementById('wax-seal');
      const letterContent = document.getElementById('letter-content');
      const partnerNameInput = document.getElementById('partner-name');
      const letterRecipient = document.getElementById('letter-recipient');
      const nameUnderline = document.getElementById('name-underline');
      
      // Open envelope
      envelope.addEventListener('click', function() {
        console.log('Envelope clicked');
        waxSeal.style.opacity = '0';
        waxSeal.style.transform = 'translate(-50%, -50%) scale(0)';
        
        setTimeout(() => {
          letterContent.style.opacity = '1';
          createHearts();
        }, 300);
      });
      
      // Partner name input
      if (partnerNameInput) {
        partnerNameInput.addEventListener('focus', function() {
          nameUnderline.style.width = '80%';
        });
        
        partnerNameInput.addEventListener('blur', function() {
          if (!this.value) {
            nameUnderline.style.width = '0%';
          }
        });
        
        partnerNameInput.addEventListener('input', function() {
          const name = this.value || '';
          letterRecipient.textContent = name;
          localStorage.setItem('partnerName', name);
        });
        
        // Load saved name
        const savedName = localStorage.getItem('partnerName');
        if (savedName) {
          partnerNameInput.value = savedName;
          letterRecipient.textContent = savedName;
          nameUnderline.style.width = '80%';
        }
      }
    }
    
    // ========== MEMORIES SECTION ==========
    function initMemories() {
      const memoryUpload = document.getElementById('memory-upload');
      const memories = ['memory-1', 'memory-2', 'memory-3'];
      let currentMemory = null;
      
      memories.forEach((memoryId, index) => {
        const memoryElement = document.getElementById(memoryId);
        if (memoryElement) {
          memoryElement.addEventListener('click', function() {
            currentMemory = memoryId;
            memoryUpload.click();
          });
        }
      });
      
      memoryUpload.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (!file || !currentMemory) return;
        
        const reader = new FileReader();
        reader.onload = function(event) {
          const memoryElement = document.getElementById(currentMemory);
          if (memoryElement) {
            memoryElement.innerHTML = `
              <img src="${event.target.result}" 
                   class="w-full h-full object-cover" 
                   alt="Our memory">
            `;
          }
        };
        reader.readAsDataURL(file);
        
        // Reset file input
        memoryUpload.value = '';
      });
    }
    
    // ========== MUSIC PLAYER ==========
    function initMusicPlayer() {
      const audio = document.getElementById('audio-player');
      const playBtn = document.getElementById('play-btn');
      const playIcon = document.getElementById('play-icon');
      const pauseIcon = document.getElementById('pause-icon');
      const prevBtn = document.getElementById('prev-btn');
      const nextBtn = document.getElementById('next-btn');
      const uploadSongBtn = document.getElementById('upload-song-btn');
      const songUpload = document.getElementById('song-upload');
      const nowPlaying = document.getElementById('now-playing');
      
      let isPlaying = false;
      let currentSong = null;
      
      // Play/Pause
      playBtn.addEventListener('click', function() {
        if (!currentSong) {
          alert('Please upload a song first!');
          songUpload.click();
          return;
        }
        
        if (isPlaying) {
          audio.pause();
          playIcon.classList.remove('hidden');
          pauseIcon.classList.add('hidden');
        } else {
          audio.play().catch(e => {
            console.log('Playback error:', e);
            alert('Could not play the song. Please try another file.');
          });
          playIcon.classList.add('hidden');
          pauseIcon.classList.remove('hidden');
        }
        isPlaying = !isPlaying;
      });
      
      // Upload song
      uploadSongBtn.addEventListener('click', function() {
        songUpload.click();
      });
      
      songUpload.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (!file) return;
        
        const url = URL.createObjectURL(file);
        currentSong = {
          name: file.name.replace(/\.[^/.]+$/, ""),
          url: url
        };
        
        audio.src = url;
        nowPlaying.textContent = currentSong.name;
        
        // Auto-play
        setTimeout(() => {
          audio.play();
          isPlaying = true;
          playIcon.classList.add('hidden');
          pauseIcon.classList.remove('hidden');
        }, 500);
      });
      
      // Audio events
      audio.addEventListener('ended', function() {
        isPlaying = false;
        playIcon.classList.remove('hidden');
        pauseIcon.classList.add('hidden');
      });
    }
    
    // ========== SHARE MODAL ==========
    function initShareModal() {
      const shareBtn = document.getElementById('share-gift-btn');
      const shareModal = document.getElementById('share-modal');
      const closeBtn = document.getElementById('close-share-modal');
      const whatsappShare = document.getElementById('whatsapp-share');
      const copyLinkBtn = document.getElementById('copy-link');
      
      // Open modal
      shareBtn.addEventListener('click', function() {
        shareModal.classList.add('active');
        document.body.style.overflow = 'hidden';
      });
      
      // Close modal
      closeBtn.addEventListener('click', function() {
        shareModal.classList.remove('active');
        document.body.style.overflow = 'auto';
      });
      
      // Close on background click
      shareModal.addEventListener('click', function(e) {
        if (e.target === shareModal) {
          shareModal.classList.remove('active');
          document.body.style.overflow = 'auto';
        }
      });
      
      // WhatsApp share
      whatsappShare.addEventListener('click', function() {
        const text = `üå∏üíö A special Valentine's gift just for you! üíöüå∏\n\nI created a beautiful love letter just for you. Open it to see my heart:\n${window.location.href}`;
        const url = `https://wa.me/?text=${encodeURIComponent(text)}`;
        window.open(url, '_blank');
      });
      
      // Copy link
      copyLinkBtn.addEventListener('click', function() {
        const url = window.location.href;
        navigator.clipboard.writeText(url).then(() => {
          alert('Link copied to clipboard! Send this to your partner.');
        }).catch(() => {
          // Fallback
          const temp = document.createElement('textarea');
          temp.value = url;
          document.body.appendChild(temp);
          temp.select();
          document.execCommand('copy');
          document.body.removeChild(temp);
          alert('Link copied to clipboard! Send this to your partner.');
        });
      });
    }
    
    // ========== FLOATING PETALS ==========
    function initFloatingPetals() {
      createFloatingPetals();
      setInterval(createFloatingPetals, 8000); // Increased frequency
    }
    
    function createFloatingPetals() {
      const container = document.getElementById('petal-container');
      
      // Mix of green and pink elements
      const greenElements = ['üçÉ', 'üåø', '‚òòÔ∏è', 'üçÄ', 'üå±', 'üåæ'];
      const pinkElements = ['üå∏', 'üíÆ', 'üèµÔ∏è', 'üå∫', 'üå∑', 'üåº', 'üíê', 'üåπ', 'üåª', 'üíñ', 'üíó', 'üíì', 'üíï', 'üíû'];
      
      // Create more petals (10 instead of 8)
      for (let i = 0; i < 10; i++) {
        setTimeout(() => {
          const element = document.createElement('div');
          
          // Randomly choose between green or pink
          const isPink = Math.random() > 0.4; // 60% chance of pink
          const elements = isPink ? pinkElements : greenElements;
          const elementType = elements[Math.floor(Math.random() * elements.length)];
          
          element.textContent = elementType;
          element.className = 'floating-petal' + (isPink ? ' pink' : '');
          
          element.style.left = Math.random() * 100 + 'vw';
          element.style.fontSize = (Math.random() * 20 + 14) + 'px';
          element.style.opacity = Math.random() * 0.6 + 0.2;
          
          // Set color based on element type
          if (isPink) {
            // Pink colors
            const pinkColors = ['#B76E79', '#C9A9A6', '#E8B4B8', '#F5C6D6', '#F8A5C2', '#FFB6C1', '#FFC0CB'];
            element.style.color = pinkColors[Math.floor(Math.random() * pinkColors.length)];
          } else {
            // Green colors
            const greenColors = ['#7D8B6F', '#5C6B4F', '#4A5D3E', '#6B7B5E', '#8A9B7C'];
            element.style.color = greenColors[Math.floor(Math.random() * greenColors.length)];
          }
          
          element.style.animationDuration = (Math.random() * 12 + 15) + 's';
          element.style.zIndex = '0';
          
          container.appendChild(element);
          setTimeout(() => element.remove(), 30000);
        }, i * 300);
      }
    }
    
    // ========== HEARTS ANIMATION ==========
    function createHearts() {
      const container = document.getElementById('petal-container');
      
      const heartTypes = ['üíö', 'üíñ', 'üíó', 'üíì', 'üíï', 'üíû', 'üíò', 'üíù']; // More heart variations
      
      for (let i = 0; i < 15; i++) { // Increased count
        setTimeout(() => {
          const heart = document.createElement('div');
          heart.className = 'floating-petal pink';
          
          const heartType = heartTypes[Math.floor(Math.random() * heartTypes.length)];
          heart.textContent = heartType;
          
          heart.style.left = Math.random() * 100 + 'vw';
          heart.style.fontSize = (Math.random() * 25 + 18) + 'px';
          
          // Color based on heart type
          if (heartType === 'üíö') {
            heart.style.color = '#7D8B6F'; // Green
          } else {
            // Random pink colors
            const pinkColors = ['#B76E79', '#E8B4B8', '#F5C6D6', '#FFB6C1', '#FFC0CB', '#FF69B4', '#FF1493'];
            heart.style.color = pinkColors[Math.floor(Math.random() * pinkColors.length)];
          }
          
          heart.style.animationDuration = (Math.random() * 7 + 8) + 's';
          heart.style.opacity = Math.random() * 0.7 + 0.3;
          
          container.appendChild(heart);
          setTimeout(() => heart.remove(), 20000);
        }, i * 100);
      }
    }
  </script>
</body>
</html>

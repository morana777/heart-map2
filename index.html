<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valentine's Love Letter</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #FDF8F3 0%, #F9F5F0 100%);
            color: #5C6B4F;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* WELCOME SCREEN */
        #welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom right, #ffe6e6, #ffcccc);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 1s ease;
        }
        
        #welcome-screen.fade-out {
            opacity: 0;
            pointer-events: none;
        }
        
        .heart {
            font-size: 80px;
            color: #ff4d6d;
            animation: heartbeat 1.5s infinite;
            margin-bottom: 30px;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        h1 {
            font-size: 48px;
            color: #ff4d6d;
            text-align: center;
            margin-bottom: 20px;
            font-family: 'Brush Script MT', cursive;
        }
        
        .subtitle {
            font-size: 24px;
            text-align: center;
            margin-bottom: 40px;
            color: #5C6B4F;
            font-style: italic;
        }
        
        #enter-btn {
            background: #ff4d6d;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 20px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Georgia', serif;
        }
        
        #enter-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 77, 109, 0.3);
        }
        
        /* MAIN CONTENT */
        #main-content {
            display: none;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* SIMPLE NAVIGATION */
        .simple-nav {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
        }
        
        .nav-dot {
            width: 12px;
            height: 12px;
            background: rgba(255, 77, 109, 0.3);
            border-radius: 50%;
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .nav-dot.active {
            background: #ff4d6d;
            transform: scale(1.5);
        }
        
        .nav-dot:hover {
            background: #ff4d6d;
            transform: scale(1.3);
        }
        
        /* SECTIONS */
        section {
            min-height: 100vh;
            padding: 80px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .section-title {
            font-size: 36px;
            color: #ff4d6d;
            text-align: center;
            margin-bottom: 40px;
            font-family: 'Brush Script MT', cursive;
        }
        
        /* HERO SECTION */
        #hero {
            text-align: center;
        }
        
        .partner-input {
            font-size: 48px;
            font-family: 'Brush Script MT', cursive;
            color: #ff4d6d;
            background: transparent;
            border: none;
            outline: none;
            text-align: center;
            margin: 20px 0;
            width: 100%;
            max-width: 400px;
        }
        
        .partner-input::placeholder {
            color: rgba(255, 77, 109, 0.5);
        }
        
        .btn {
            padding: 12px 30px;
            margin: 10px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s ease;
        }
        
        .primary-btn {
            background: #ff4d6d;
            color: white;
        }
        
        .secondary-btn {
            background: transparent;
            color: #ff4d6d;
            border: 2px solid #ff4d6d;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        /* LETTER SECTION */
        .envelope {
            width: 100%;
            max-width: 600px;
            background: #fff9f3;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid #e8ddd4;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .envelope:hover {
            transform: scale(1.02);
        }
        
        .heart-seal {
            width: 60px;
            height: 60px;
            background: #ff4d6d;
            border-radius: 50%;
            margin: 0 auto 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            color: white;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .letter-content {
            min-height: 300px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border: 1px dashed #e8ddd4;
        }
        
        .editable {
            min-height: 24px;
            outline: none;
            padding: 5px;
            margin: 10px 0;
            border-radius: 4px;
            transition: background 0.3s ease;
        }
        
        .editable:focus {
            background: rgba(255, 77, 109, 0.05);
            border: 1px dashed #ff4d6d;
        }
        
        .editable[data-placeholder]:empty:before {
            content: attr(data-placeholder);
            color: #aaa;
            font-style: italic;
        }
        
        /* MEMORIES SECTION */
        .memories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            width: 100%;
            max-width: 1000px;
        }
        
        .memory-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .memory-card:hover {
            transform: translateY(-5px);
        }
        
        .memory-placeholder {
            width: 100%;
            height: 250px;
            background: #f5f5f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .plus-icon {
            width: 50px;
            height: 50px;
            background: #ff4d6d;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            color: white;
            margin-bottom: 15px;
        }
        
        /* SHARE BUTTON */
        .share-btn {
            background: linear-gradient(135deg, #ff4d6d, #ff758f);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 20px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 40px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .share-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(255, 77, 109, 0.4);
        }
        
        /* RESPONSIVE */
        @media (max-width: 768px) {
            h1 { font-size: 36px; }
            .section-title { font-size: 28px; }
            .simple-nav { display: none; }
            .partner-input { font-size: 36px; }
        }
        
        /* FLOATING HEARTS */
        .floating-heart {
            position: fixed;
            font-size: 24px;
            color: #ff4d6d;
            opacity: 0.3;
            pointer-events: none;
            z-index: -1;
        }
    </style>
</head>
<body>
    <!-- WELCOME SCREEN -->
    <div id="welcome-screen">
        <div class="heart">‚ù§Ô∏è</div>
        <h1>Happy Valentine's Day</h1>
        <div class="subtitle">Where every moment blooms with love</div>
        <p style="text-align: center; margin-bottom: 30px; max-width: 600px;">
            A special message has been crafted just for you.<br>
            Let the romance unfold...
        </p>
        <button id="enter-btn">Enter Our Garden of Love</button>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main-content">
        <!-- SIMPLE NAVIGATION -->
        <div class="simple-nav">
            <div class="nav-dot active" onclick="scrollToSection('hero')"></div>
            <div class="nav-dot" onclick="scrollToSection('letter')"></div>
            <div class="nav-dot" onclick="scrollToSection('memories')"></div>
        </div>

        <!-- HERO SECTION -->
        <section id="hero">
            <h1 class="section-title">My Dearest</h1>
            <input type="text" 
                   class="partner-input" 
                   id="partner-name" 
                   placeholder="Your Love"
                   oninput="updateName()">
            
            <p style="font-size: 20px; margin: 30px 0; max-width: 600px; text-align: center;">
                Every rose in this garden represents a reason why I love you.<br>
                Every petal holds a memory of us.
            </p>
            
            <div style="margin: 30px 0;">
                <button class="btn primary-btn" onclick="scrollToSection('letter')">Open My Heart</button>
                <button class="btn secondary-btn" onclick="scrollToSection('memories')">Our Memories</button>
            </div>
        </section>

        <!-- LETTER SECTION -->
        <section id="letter">
            <h1 class="section-title">Sealed with Love</h1>
            <p style="margin-bottom: 30px; font-style: italic; color: #ff4d6d;">
                Click the envelope to reveal my heart
            </p>
            
            <div class="envelope" onclick="openEnvelope()">
                <div class="heart-seal">‚ù§Ô∏è</div>
                
                <div class="letter-content" id="letter-text" style="display: none;">
                    <div style="text-align: right; font-size: 14px; color: #888; margin-bottom: 20px;">
                        <div class="editable" contenteditable="true" data-placeholder="Click to edit date..."></div>
                    </div>
                    
                    <h2 style="text-align: center; color: #ff4d6d; margin-bottom: 30px; font-family: 'Brush Script MT', cursive; font-size: 32px;">
                        To My Dearest <span id="letter-name" style="color: #ff4d6d;">Your Love</span>
                    </h2>
                    
                    <div style="font-size: 18px; line-height: 1.6;">
                        <p style="margin-bottom: 20px;">
                            <span class="editable" contenteditable="true" data-placeholder="My love,"></span>
                        </p>
                        
                        <p style="margin-bottom: 20px;">
                            <span class="editable" contenteditable="true" data-placeholder="Write your love letter here... Click and start typing your heartfelt message."></span>
                        </p>
                        
                        <p style="margin-bottom: 20px;">
                            <span class="editable" contenteditable="true" data-placeholder="Continue writing your message..."></span>
                        </p>
                        
                        <p style="margin-bottom: 20px;">
                            <span class="editable" contenteditable="true" data-placeholder="Add more to your love letter..."></span>
                        </p>
                        
                        <p style="margin-top: 40px;">
                            <span class="editable" contenteditable="true" data-placeholder="With all my love,"></span>
                        </p>
                    </div>
                    
                    <div style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #e8ddd4;">
                        <div style="text-align: center; font-family: 'Brush Script MT', cursive; font-size: 32px; color: #ff4d6d;">
                            <span class="editable" contenteditable="true" data-placeholder="Your Name"></span>
                        </div>
                        <div style="text-align: center; font-size: 14px; color: #888; margin-top: 5px;">
                            Sealed with a kiss and all my heart
                        </div>
                    </div>
                </div>
                
                <p style="text-align: center; margin-top: 20px; color: #888; font-style: italic;">
                    Click the heart to open this letter of love
                </p>
            </div>
            
            <div style="margin-top: 30px;">
                <button class="btn secondary-btn" onclick="scrollToSection('hero')">Back to Home</button>
                <button class="btn primary-btn" onclick="scrollToSection('memories')">View Memories</button>
            </div>
        </section>

        <!-- MEMORIES SECTION -->
        <section id="memories">
            <h1 class="section-title">Petals of Our Memories</h1>
            <p style="margin-bottom: 40px; font-style: italic; text-align: center; max-width: 600px;">
                Each photo is a pressed flower in the book of our love story
            </p>
            
            <div class="memories-grid">
                <!-- Memory 1 -->
                <div class="memory-card">
                    <div class="memory-placeholder" onclick="uploadMemory(1)">
                        <div class="plus-icon">+</div>
                        <div>Add Our Memory</div>
                        <div style="font-size: 14px; color: #888; margin-top: 5px;">Click to upload photo</div>
                    </div>
                    <div style="padding: 20px;">
                        <textarea placeholder="Describe this beautiful moment..." 
                                  style="width: 100%; height: 80px; padding: 10px; border: 1px solid #e8ddd4; border-radius: 8px; resize: none; font-family: inherit;"></textarea>
                    </div>
                </div>
                
                <!-- Memory 2 -->
                <div class="memory-card">
                    <div class="memory-placeholder" onclick="uploadMemory(2)">
                        <div class="plus-icon">+</div>
                        <div>Add Our Memory</div>
                        <div style="font-size: 14px; color: #888; margin-top: 5px;">Click to upload photo</div>
                    </div>
                    <div style="padding: 20px;">
                        <textarea placeholder="Describe this beautiful moment..." 
                                  style="width: 100%; height: 80px; padding: 10px; border: 1px solid #e8ddd4; border-radius: 8px; resize: none; font-family: inherit;"></textarea>
                    </div>
                </div>
                
                <!-- Memory 3 -->
                <div class="memory-card">
                    <div class="memory-placeholder" onclick="uploadMemory(3)">
                        <div class="plus-icon">+</div>
                        <div>Add Our Memory</div>
                        <div style="font-size: 14px; color: #888; margin-top: 5px;">Click to upload photo</div>
                    </div>
                    <div style="padding: 20px;">
                        <textarea placeholder="Describe this beautiful moment..." 
                                  style="width: 100%; height: 80px; padding: 10px; border: 1px solid #e8ddd4; border-radius: 8px; resize: none; font-family: inherit;"></textarea>
                    </div>
                </div>
            </div>
            
            <div style="margin: 40px 0;">
                <button class="btn secondary-btn" onclick="scrollToSection('letter')">Back to Letter</button>
                <button class="btn primary-btn" onclick="scrollToSection('hero')">Back to Home</button>
            </div>
            
            <!-- FINAL MESSAGE -->
            <div style="max-width: 600px; text-align: center; margin-top: 40px; padding: 30px; background: white; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                <h2 style="color: #ff4d6d; font-family: 'Brush Script MT', cursive; font-size: 36px; margin-bottom: 20px;">
                    To My Eternal Valentine
                </h2>
                <p style="font-size: 18px; margin-bottom: 20px; font-style: italic;">
                    Like these flowers that never truly fade, my love for you is eternal.<br>
                    Through every season, in every bloom, my heart finds its home in you.
                </p>
                <div style="font-family: 'Brush Script MT', cursive; font-size: 28px; color: #5C6B4F; margin: 20px 0;">
                    <span class="editable" contenteditable="true" data-placeholder="Forever Yours"></span>
                </div>
                
                <!-- SHARE BUTTON -->
                <button class="share-btn" onclick="shareGift()">
                    <span>‚ù§Ô∏è</span>
                    Share This Gift With Your Love
                    <span>‚ù§Ô∏è</span>
                </button>
                <p style="font-size: 14px; color: #888; margin-top: 10px; font-style: italic;">
                    Once shared, your love story will become view-only for your partner!
                </p>
            </div>
        </section>
    </div>

    <!-- HIDDEN FILE INPUT -->
    <input type="file" id="file-input" accept="image/*" style="display: none;">

    <script>
        // 1. ENTER SITE - THIS WILL WORK
        document.getElementById('enter-btn').addEventListener('click', function() {
            console.log("Button clicked!");
            document.getElementById('welcome-screen').classList.add('fade-out');
            setTimeout(() => {
                document.getElementById('welcome-screen').style.display = 'none';
                document.getElementById('main-content').style.display = 'block';
                createFloatingHearts();
            }, 1000);
        });

        // 2. SCROLL TO SECTION - SIMPLE AND FOOLPROOF
        function scrollToSection(sectionId) {
            console.log("Scrolling to:", sectionId);
            const section = document.getElementById(sectionId);
            if (section) {
                // Update active nav dot
                document.querySelectorAll('.nav-dot').forEach(dot => {
                    dot.classList.remove('active');
                });
                
                // Find and activate the correct dot
                const dots = document.querySelectorAll('.nav-dot');
                const sectionIndex = ['hero', 'letter', 'memories'].indexOf(sectionId);
                if (dots[sectionIndex]) {
                    dots[sectionIndex].classList.add('active');
                }
                
                // Scroll to section
                window.scrollTo({
                    top: section.offsetTop,
                    behavior: 'smooth'
                });
            }
        }

        // 3. UPDATE PARTNER NAME
        function updateName() {
            const name = document.getElementById('partner-name').value || 'Your Love';
            document.getElementById('letter-name').textContent = name;
        }

        // 4. OPEN ENVELOPE
        function openEnvelope() {
            const letterText = document.getElementById('letter-text');
            letterText.style.display = 'block';
            
            // Create floating hearts
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    createHeart();
                }, i * 100);
            }
        }

        // 5. UPLOAD MEMORY
        let currentMemorySlot = 1;
        
        function uploadMemory(slot) {
            currentMemorySlot = slot;
            document.getElementById('file-input').click();
        }
        
        document.getElementById('file-input').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const placeholder = document.querySelector(`.memory-card:nth-child(${currentMemorySlot}) .memory-placeholder`);
                    if (placeholder) {
                        placeholder.innerHTML = `<img src="${e.target.result}" style="width:100%; height:100%; object-fit:cover;">`;
                        placeholder.style.background = 'none';
                    }
                };
                reader.readAsDataURL(file);
            }
        });

        // 6. SHARE GIFT
        function shareGift() {
            const url = window.location.href;
            const text = `üíï A special Valentine's gift just for you! üíï\n\nI created a beautiful love letter just for you. Open it to see my heart:\n${url}`;
            
            // Try to copy to clipboard
            navigator.clipboard.writeText(text).then(() => {
                alert('Link copied to clipboard! Send this to your partner:\n\n' + url);
            }).catch(() => {
                // Fallback for older browsers
                const tempInput = document.createElement('input');
                tempInput.value = text;
                document.body.appendChild(tempInput);
                tempInput.select();
                document.execCommand('copy');
                document.body.removeChild(tempInput);
                alert('Link copied to clipboard! Send this to your partner:\n\n' + url);
            });
        }

        // 7. CREATE FLOATING HEARTS
        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
            heart.style.opacity = Math.random() * 0.5 + 0.2;
            
            document.body.appendChild(heart);
            
            // Animate
            const duration = Math.random() * 3 + 2;
            heart.style.transition = `all ${duration}s linear`;
            heart.style.transform = `translateY(-100vh) rotate(${Math.random() * 360}deg)`;
            
            setTimeout(() => {
                heart.remove();
            }, duration * 1000);
        }

        function createFloatingHearts() {
            setInterval(() => {
                if (Math.random() > 0.7) {
                    createHeart();
                }
            }, 1000);
        }

        // 8. TRACK SCROLL POSITION
        window.addEventListener('scroll', function() {
            const sections = ['hero', 'letter', 'memories'];
            const scrollPos = window.scrollY + 100;
            
            let currentSection = 'hero';
            
            sections.forEach(sectionId => {
                const section = document.getElementById(sectionId);
                if (section) {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.offsetHeight;
                    
                    if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
                        currentSection = sectionId;
                    }
                }
            });
            
            // Update nav dots
            document.querySelectorAll('.nav-dot').forEach(dot => {
                dot.classList.remove('active');
            });
            
            const sectionIndex = sections.indexOf(currentSection);
            const dots = document.querySelectorAll('.nav-dot');
            if (dots[sectionIndex]) {
                dots[sectionIndex].classList.add('active');
            }
        });

        // 9. INITIALIZE EDITABLE FIELDS
        document.addEventListener('DOMContentLoaded', function() {
            // Make sure enter button works
            const enterBtn = document.getElementById('enter-btn');
            if (enterBtn) {
                enterBtn.addEventListener('click', function() {
                    console.log("Enter button clicked via DOMContentLoaded");
                    document.getElementById('welcome-screen').classList.add('fade-out');
                    setTimeout(() => {
                        document.getElementById('welcome-screen').style.display = 'none';
                        document.getElementById('main-content').style.display = 'block';
                        createFloatingHearts();
                    }, 1000);
                });
            }
            
            // Make all navigation work
            document.querySelectorAll('.nav-dot').forEach(dot => {
                dot.addEventListener('click', function() {
                    const sectionId = this.getAttribute('onclick').match(/'([^']+)'/)[1];
                    scrollToSection(sectionId);
                });
            });
            
            // Make all buttons work
            document.querySelectorAll('button').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    console.log("Button clicked:", this.textContent);
                });
            });
        });

        // 10. MAKE ENTER BUTTON WORK WITH ENTER KEY TOO
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && document.getElementById('welcome-screen').style.display !== 'none') {
                document.getElementById('enter-btn').click();
            }
        });

        // DEBUG: Log when page loads
        console.log("Page loaded successfully!");
        console.log("Enter button exists:", !!document.getElementById('enter-btn'));
    </script>
</body>
</html>

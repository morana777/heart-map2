<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blooming Romance - A Valentine's Love Letter</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Playfair+Display:ital,wght@0,400;0,500;1,400&family=Dancing+Script:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    :root {
      --cream: #FDF8F3;
      --sage: #7D8B6F;
      --deep-sage: #5C6B4F;
      --blush: #E8DDD4;
      --moss: #4A5D3E;
      --rose-gold: #B76E79;
      --dusty-rose: #C9A9A6;
    }
    
    body {
      background: linear-gradient(135deg, #FDF8F3 0%, #F9F5F0 100%);
      font-family: 'Playfair Display', serif;
      color: var(--deep-sage);
      overflow-x: hidden;
      cursor: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="%237D8B6F" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') 12 12, auto;
    }
    
    .romantic-title {
      font-family: 'Cormorant Garamond', serif;
    }
    
    .script-font {
      font-family: 'Dancing Script', cursive;
    }
    
    .scroll-smooth {
      scroll-behavior: smooth;
    }
    
    /* Floating petal animation */
    @keyframes floatPetal {
      0% {
        transform: translateY(100vh) rotate(0deg) translateX(0);
        opacity: 0;
      }
      10% {
        opacity: 0.7;
      }
      90% {
        opacity: 0.7;
      }
      100% {
        transform: translateY(-100px) rotate(360deg) translateX(100px);
        opacity: 0;
      }
    }
    
    .floating-petal {
      position: fixed;
      pointer-events: none;
      z-index: 0;
      animation: floatPetal linear forwards;
    }
    
    /* Rose heart animation */
    @keyframes pulseHeart {
      0%, 100% {
        transform: scale(1);
        filter: drop-shadow(0 0 10px rgba(183, 110, 121, 0.3));
      }
      50% {
        transform: scale(1.05);
        filter: drop-shadow(0 0 20px rgba(183, 110, 121, 0.5));
      }
    }
    
    .pulse-heart {
      animation: pulseHeart 3s ease-in-out infinite;
    }
    
    /* Envelope animation */
    @keyframes envelopeOpen {
      0% {
        transform: translateY(0) rotateX(0);
      }
      50% {
        transform: translateY(-20px) rotateX(10deg);
      }
      100% {
        transform: translateY(0) rotateX(0);
      }
    }
    
    .envelope-open {
      animation: envelopeOpen 2s ease-in-out;
    }
    
    /* Letter paper texture */
    .letter-paper {
      background: linear-gradient(to bottom, #fffbf6 0%, #fef9f3 100%);
      background-image: 
        radial-gradient(#d4c4b5 1px, transparent 1px),
        radial-gradient(#d4c4b5 1px, transparent 1px);
      background-size: 30px 30px;
      background-position: 0 0, 15px 15px;
      filter: sepia(10%);
    }
    
    /* Luxury shimmer effect */
    @keyframes shimmer {
      0% {
        background-position: -100% 0;
      }
      100% {
        background-position: 200% 0;
      }
    }
    
    .luxury-shimmer {
      background: linear-gradient(
        90deg,
        rgba(253, 248, 243, 0) 0%,
        rgba(255, 255, 255, 0.6) 50%,
        rgba(253, 248, 243, 0) 100%
      );
      background-size: 200% 100%;
      animation: shimmer 3s infinite;
    }
    
    /* Romantic glow */
    .romantic-glow {
      filter: drop-shadow(0 0 20px rgba(183, 110, 121, 0.3));
    }
    
    /* 3D card effect */
    .card-3d {
      transform-style: preserve-3d;
      transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    .card-3d:hover {
      transform: perspective(1000px) rotateY(5deg) rotateX(5deg) translateZ(20px);
    }
    
    /* Scroll indicator */
    @keyframes bounceDown {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(10px);
      }
    }
    
    .bounce-down {
      animation: bounceDown 2s ease-in-out infinite;
    }
    
    /* Music player wave */
    @keyframes musicWave {
      0%, 100% {
        height: 10px;
      }
      50% {
        height: 30px;
      }
    }
    
    .music-wave {
      animation: musicWave 1.5s ease-in-out infinite;
    }
    
    /* Flower illustration styles */
    .flower-illustration {
      fill: none;
      stroke: var(--rose-gold);
      stroke-width: 1.5;
    }
    
    .leaf-illustration {
      fill: var(--sage);
      opacity: 0.7;
    }
    
    /* Heart seal style */
    .heart-seal {
      background: linear-gradient(135deg, #B76E79 0%, #C86B78 100%);
      box-shadow: 0 4px 15px rgba(183, 110, 121, 0.3);
    }
    
    /* Letter container */
    .letter-container {
      background: linear-gradient(to bottom, #fffbf6 0%, #fef9f3 100%);
      box-shadow: 0 10px 30px rgba(92, 107, 79, 0.1);
      border: 1px solid #E8DDD4;
      max-height: 500px;
      overflow-y: auto;
      border-radius: 20px;
    }
    
    /* Mobile responsive fixes */
    @media (max-width: 768px) {
      .hero-flowers {
        opacity: 0.1 !important;
        z-index: -1 !important;
      }
      
      .letter-container {
        max-height: 400px;
      }
    }
    
    /* Curved envelope style */
    .curved-envelope {
      border-radius: 25px;
      background: linear-gradient(135deg, #F5EDE4 0%, #F9F5F0 100%);
      border: 2px solid #D4C4B5;
      box-shadow: 0 20px 40px rgba(92, 107, 79, 0.15);
    }
    
    /* Music player bar (like phone music player) */
    .music-player-bar {
      background: linear-gradient(135deg, rgba(253, 248, 243, 0.95) 0%, rgba(255, 255, 255, 0.98) 100%);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(232, 221, 212, 0.8);
      box-shadow: 0 8px 32px rgba(183, 110, 121, 0.1);
      border-radius: 12px;
    }
    
    /* Welcome slide animation */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .fade-in-up {
      animation: fadeInUp 1s ease-out forwards;
    }
    
    @keyframes fadeOut {
      from {
        opacity: 1;
      }
      to {
        opacity: 0;
        visibility: hidden;
      }
    }
    
    .fade-out {
      animation: fadeOut 1s ease-out forwards;
    }
    
    /* Auto-play music indicator */
    .autoplay-indicator {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      background: rgba(183, 110, 121, 0.9);
      color: white;
      padding: 10px 20px;
      border-radius: 25px;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 4px 15px rgba(183, 110, 121, 0.3);
    }
  </style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <!-- Floating Petals -->
  <div id="petal-container" class="fixed inset-0 pointer-events-none z-0"></div>
  
  <!-- Auto-play Music Indicator -->
  <div id="autoplay-indicator" class="autoplay-indicator hidden">
    <svg class="w-4 h-4 animate-pulse" fill="currentColor" viewBox="0 0 24 24">
      <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
    </svg>
    <span>Playing your love song...</span>
    <button onclick="stopAutoplay()" class="ml-2 text-xs bg-white/20 hover:bg-white/30 px-2 py-1 rounded">
      Stop
    </button>
  </div>

  <!-- Welcome Slide (First Screen) -->
  <div id="welcome-slide" class="fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-rose-gold/10 via-cream to-blush">
    <div class="text-center px-6 max-w-4xl fade-in-up">
      <div class="mb-8">
        <svg class="w-32 h-32 mx-auto mb-8 pulse-heart" fill="#B76E79" viewBox="0 0 24 24">
          <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </svg>
        
        <h1 class="script-font text-6xl md:text-8xl text-rose-gold mb-6">
          Happy Valentine's Day
        </h1>
        
        <div class="relative inline-block">
          <svg class="absolute -left-12 top-1/2 transform -translate-y-1/2 w-8 h-8 text-rose-gold/50" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2L9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2z"/>
          </svg>
          <p class="romantic-title text-2xl md:text-3xl text-deep-sage italic px-12">
            Where every moment blooms with love
          </p>
          <svg class="absolute -right-12 top-1/2 transform -translate-y-1/2 w-8 h-8 text-rose-gold/50" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2L9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2z"/>
          </svg>
        </div>
        
        <div class="mt-12">
          <p class="text-lg md:text-xl text-deep-sage/70 mb-8 max-w-2xl mx-auto">
            A special message has been crafted just for you.<br>
            Let the romance unfold...
          </p>
          
          <button onclick="enterSite()" class="group relative px-12 py-4 bg-rose-gold text-cream rounded-full overflow-hidden transition-all duration-500 hover:shadow-xl hover:-translate-y-1">
            <span class="relative z-10 romantic-title tracking-widest text-lg">Enter Our Garden of Love</span>
            <div class="absolute inset-0 bg-gradient-to-r from-moss to-deep-sage transform -skew-x-12 translate-x-full group-hover:translate-x-0 transition-transform duration-500"></div>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Navigation Roses (Hidden on mobile) -->
  <nav class="fixed right-6 top-1/2 transform -translate-y-1/2 z-40 flex flex-col gap-6 hidden md:flex">
    <a href="#hero" class="nav-rose group" title="Beginning">
      <div class="w-4 h-4 bg-rose-gold rounded-full transition-all duration-300 group-hover:scale-150 group-hover:shadow-lg"></div>
      <span class="absolute right-6 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity text-sm text-rose-gold romantic-title whitespace-nowrap">Our Beginning</span>
    </a>
    <a href="#letter" class="nav-rose group" title="Love Letter">
      <div class="w-4 h-4 bg-rose-gold rounded-full transition-all duration-300 group-hover:scale-150 group-hover:shadow-lg"></div>
      <span class="absolute right-6 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity text-sm text-rose-gold romantic-title whitespace-nowrap">My Letter</span>
    </a>
    <a href="#memories" class="nav-rose group" title="Memories">
      <div class="w-4 h-4 bg-rose-gold rounded-full transition-all duration-300 group-hover:scale-150 group-hover:shadow-lg"></div>
      <span class="absolute right-6 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity text-sm text-rose-gold romantic-title whitespace-nowrap">Our Moments</span>
    </a>
  </nav>

  <!-- Mobile Music Player Bar (Fixed at bottom) -->
  <div id="music-player-bar" class="fixed bottom-0 left-0 right-0 z-50 music-player-bar mx-4 mb-4 p-4 hidden">
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-3">
        <button onclick="togglePlay()" id="play-btn-bar" class="p-2 rounded-full bg-rose-gold text-white hover:bg-rose-gold/90 transition-colors">
          <svg id="play-icon-bar" class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M8 5v14l11-7z"/>
          </svg>
          <svg id="pause-icon-bar" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 24 24">
            <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
          </svg>
        </button>
        
        <div class="min-w-0 flex-1">
          <div id="now-playing-bar" class="text-sm font-medium text-deep-sage truncate">Select a Song</div>
          <div class="flex items-center gap-2">
            <span id="current-time-bar" class="text-xs text-deep-sage/70">0:00</span>
            <input type="range" min="0" max="100" value="0" class="flex-1 h-1 bg-deep-sage/20 rounded-full appearance-none [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-rose-gold" id="progress-bar-bar">
            <span id="total-time-bar" class="text-xs text-deep-sage/70">0:00</span>
          </div>
        </div>
      </div>
      
      <button onclick="uploadSong()" class="p-2 rounded-full bg-rose-gold/10 hover:bg-rose-gold/20 transition-colors">
        <svg class="w-5 h-5 text-rose-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"/>
        </svg>
      </button>
    </div>
  </div>

  <div id="app-wrapper" class="h-full w-full overflow-auto scroll-smooth hidden">
   
   <!-- Music Player at Top (After welcome slide) -->
   <div class="sticky top-0 z-30 music-player-bar mx-4 mt-4 p-4">
     <div class="flex flex-col items-center gap-3">
       <div class="text-center w-full">
         <div id="now-playing" class="script-font text-xl text-rose-gold truncate">Select a Song</div>
         <div id="song-info" class="text-deep-sage/70 text-sm italic truncate">Upload a song that defines our love</div>
       </div>
       
       <div class="flex items-center justify-between w-full">
         <button onclick="previousSong()" class="p-2 rounded-full bg-rose-gold/10 hover:bg-rose-gold/20 transition-colors">
           <svg class="w-5 h-5 text-rose-gold" fill="currentColor" viewBox="0 0 24 24">
             <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
           </svg>
         </button>
         
         <button onclick="togglePlay()" id="play-btn-top" class="p-3 rounded-full bg-rose-gold text-white hover:bg-rose-gold/90 transition-colors shadow-lg">
           <svg id="play-icon-top" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
             <path d="M8 5v14l11-7z"/>
           </svg>
           <svg id="pause-icon-top" class="w-6 h-6 hidden" fill="currentColor" viewBox="0 0 24 24">
             <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
           </svg>
         </button>
         
         <button onclick="nextSong()" class="p-2 rounded-full bg-rose-gold/10 hover:bg-rose-gold/20 transition-colors">
           <svg class="w-5 h-5 text-rose-gold" fill="currentColor" viewBox="0 0 24 24">
             <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/>
           </svg>
         </button>
       </div>
       
       <div class="w-full">
         <div class="flex justify-between text-xs text-deep-sage/70 mb-1">
           <span id="current-time">0:00</span>
           <span id="total-time">0:00</span>
         </div>
         <input type="range" min="0" max="100" value="0" class="w-full h-1.5 bg-deep-sage/20 rounded-full appearance-none [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-rose-gold" id="progress-bar">
       </div>
     </div>
   </div>
   
   <!-- Hero Section with Illustrations -->
   <section id="hero" class="min-h-screen relative flex items-center justify-center overflow-hidden">
    <!-- Background with Illustrated Flowers - FIXED FOR MOBILE -->
    <div class="absolute inset-0 hero-flowers">
      <!-- Center Rose Illustration (Smaller on mobile) -->
      <div class="absolute inset-0 flex items-center justify-center">
        <svg class="w-32 h-32 md:w-64 md:h-64 pulse-heart" viewBox="0 0 200 200">
          <!-- Rose -->
          <ellipse cx="100" cy="80" rx="40" ry="35" fill="#B76E79" opacity="0.8" />
          <ellipse cx="100" cy="80" rx="30" ry="25" fill="#FDF8F3" opacity="0.9" />
          <ellipse cx="100" cy="80" rx="15" ry="12" fill="#C9A9A6" opacity="0.7" />
          
          <!-- Outer petals -->
          <ellipse cx="70" cy="70" rx="20" ry="30" fill="#B76E79" opacity="0.6" transform="rotate(-20 70 70)" />
          <ellipse cx="130" cy="70" rx="20" ry="30" fill="#B76E79" opacity="0.6" transform="rotate(20 130 70)" />
          <ellipse cx="80" cy="100" rx="20" ry="25" fill="#C9A9A6" opacity="0.5" transform="rotate(-10 80 100)" />
          <ellipse cx="120" cy="100" rx="20" ry="25" fill="#C9A9A6" opacity="0.5" transform="rotate(10 120 100)" />
          
          <!-- Stem and leaves -->
          <path d="M100 115 L100 170" stroke="#7D8B6F" stroke-width="4" fill="none" />
          <ellipse cx="85" cy="140" rx="15" ry="8" fill="#5C6B4F" transform="rotate(-30 85 140)" />
          <ellipse cx="115" cy="150" rx="12" ry="6" fill="#7D8B6F" transform="rotate(25 115 150)" />
        </svg>
      </div>
    </div>
    
    <!-- Main Content -->
    <div class="relative z-10 text-center px-6 max-w-4xl">
      <div class="mb-8">
        <h1 class="romantic-title text-4xl md:text-5xl lg:text-7xl text-deep-sage mb-4">
          <span class="block">My Dearest</span>
          <input type="text" 
                 id="partner-name" 
                 placeholder="My Love" 
                 class="script-font text-5xl md:text-6xl lg:text-8xl text-rose-gold bg-transparent border-none outline-none text-center w-full max-w-md mx-auto placeholder-rose-gold/50 focus:placeholder-transparent transition-all duration-500">
        </h1>
        
        <div class="h-px w-0 mx-auto bg-gradient-to-r from-transparent via-rose-gold to-transparent transition-all duration-1000" id="name-underline"></div>
      </div>
      
      <p class="text-lg md:text-xl text-deep-sage/70 italic max-w-2xl mx-auto mb-8 md:mb-12 leading-relaxed">
        Every rose in this garden represents a reason why I love you.<br class="hidden md:block">
        Every petal holds a memory of us.
      </p>
      
      <div class="flex flex-col sm:flex-row gap-3 md:gap-4 justify-center items-center">
        <a href="#letter" class="group relative px-6 md:px-8 py-3 md:py-4 bg-rose-gold text-cream rounded-full overflow-hidden transition-all duration-500 hover:shadow-xl hover:-translate-y-1 w-full sm:w-auto">
          <span class="relative z-10 romantic-title tracking-widest text-sm md:text-base">Open My Heart</span>
          <div class="absolute inset-0 bg-gradient-to-r from-moss to-deep-sage transform -skew-x-12 translate-x-full group-hover:translate-x-0 transition-transform duration-500"></div>
        </a>
        
        <button onclick="scrollToMemories()" class="group px-6 md:px-8 py-3 md:py-4 border-2 border-rose-gold text-rose-gold rounded-full hover:bg-rose-gold hover:text-cream transition-all duration-300 flex items-center justify-center gap-2 md:gap-3 w-full sm:w-auto">
          <svg class="w-4 h-4 md:w-5 md:h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
          </svg>
          <span class="romantic-title tracking-widest text-sm md:text-base">Our Memories</span>
        </button>
      </div>
      
      <div class="mt-12 md:mt-20 bounce-down">
        <span class="text-xs md:text-sm text-deep-sage/50 tracking-widest romantic-title">Scroll to explore our garden</span>
        <svg class="w-5 h-5 md:w-6 md:h-6 mx-auto mt-1 md:mt-2 text-rose-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>
        </svg>
      </div>
    </div>
   </section>
   
   <!-- Envelope & Letter Section -->
   <section id="letter" class="min-h-screen py-12 md:py-20 bg-gradient-to-b from-cream to-blush relative">
    <div class="max-w-6xl mx-auto px-4 md:px-6">
      <h2 class="romantic-title text-3xl md:text-4xl lg:text-5xl text-center text-deep-sage mb-8 md:mb-16">
        <span class="block mb-1 md:mb-2">Sealed with Love</span>
        <span class="text-lg md:text-xl lg:text-2xl text-rose-gold italic">Click the envelope to reveal my heart</span>
      </h2>
      
      <div class="flex flex-col items-center justify-center">
        <!-- Envelope Container -->
        <div class="relative w-full max-w-2xl">
          <!-- Envelope with curved sides -->
          <div id="envelope" class="relative cursor-pointer transform transition-all duration-500 hover:scale-105" onclick="openEnvelope()">
            <!-- Envelope Body with curved corners -->
            <div class="relative curved-envelope p-6 md:p-12 pt-16 md:pt-20 overflow-hidden">
              <!-- Heart Seal -->
              <div id="wax-seal" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 md:w-24 md:h-24 heart-seal rounded-full flex items-center justify-center shadow-xl transition-all duration-700 cursor-pointer hover:scale-110" onclick="openEnvelope()">
                <svg class="w-8 h-8 md:w-14 md:h-14 text-cream" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                </svg>
              </div>
              
              <!-- Letter that appears when opened -->
              <div id="letter-content" class="letter-container p-4 md:p-8 mt-6 md:mt-8 opacity-0 transition-all duration-700 transform translate-y-10">
                <div class="relative">
                  <!-- Decorative corner flowers -->
                  <div class="absolute -top-2 -left-2 md:-top-3 md:-left-3 w-6 h-6 md:w-8 md:h-8">
                    <svg class="w-full h-full text-rose-gold/50" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                    </svg>
                  </div>
                  
                  <div class="absolute -bottom-2 -right-2 md:-bottom-3 md:-right-3 w-6 h-6 md:w-8 md:h-8">
                    <svg class="w-full h-full text-sage/50" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M12 2L9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2z"/>
                    </svg>
                  </div>
                  
                  <!-- Letter content -->
                  <div class="mb-4 md:mb-6">
                    <div class="text-right text-xs md:text-sm text-deep-sage/70 romantic-title mb-2">
                      <span id="letter-date">January 28, 2026</span>
                    </div>
                    
                    <div class="script-font text-2xl md:text-3xl text-rose-gold text-center mb-4 md:mb-8">
                      To My Dearest <span id="letter-recipient">My Love</span>
                    </div>
                    
                    <div class="space-y-2 md:space-y-4 text-sm md:text-lg text-deep-sage leading-relaxed">
                      <p class="indent-4 md:indent-8">My love,</p>
                      
                      <p>Your smile is the sunrise that brightens my darkest days, and your love is the gentle rain that nourishes my soul. In your eyes, I've found a home; in your embrace, I've found peace.</p>
                      
                      <p>Like the flowers that never fade in this garden, my love for you grows more beautiful with each passing season. You are the soil where all my dreams take root.</p>
                      
                      <p>On this Valentine's Day, I want you to know that every moment with you has been a gift. You are my greatest adventure and my forever love.</p>
                      
                      <p class="mt-4 md:mt-8">With all my love, forever and always,</p>
                    </div>
                    
                    <div class="mt-6 md:mt-10 pt-4 md:pt-6 border-t border-deep-sage/20">
                      <div class="script-font text-2xl md:text-3xl text-rose-gold text-center" id="signature">Your Loving Partner</div>
                      <div class="text-center text-xs md:text-sm text-deep-sage/50 romantic-title mt-1 md:mt-2">Sealed with a kiss and all my heart</div>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Instruction text -->
              <div class="text-center mt-6 md:mt-8">
                <p class="text-deep-sage/60 italic romantic-title text-sm md:text-base">Click the heart seal to open this letter of love</p>
                <div class="flex items-center justify-center gap-1 md:gap-2 mt-1">
                  <div class="w-2 h-2 md:w-3 md:h-3 rounded-full bg-rose-gold animate-pulse"></div>
                  <span class="text-xs md:text-sm text-deep-sage/50">A message from my heart to yours</span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Decorative floral accents around envelope -->
          <div class="absolute -top-6 -left-6 w-16 h-16 md:-top-10 md:-left-10 md:w-24 md:h-24 opacity-10 md:opacity-20 hidden md:block">
            <svg class="w-full h-full" viewBox="0 0 100 100">
              <path d="M50 20 Q70 10, 80 30 Q90 50, 70 60 Q50 70, 30 60 Q10 50, 20 30 Q30 10, 50 20" 
                    fill="none" stroke="#B76E79" stroke-width="2" />
              <circle cx="50" cy="40" r="12" fill="#B76E79" opacity="0.3" />
              <circle cx="50" cy="40" r="6" fill="#FDF8F3" opacity="0.7" />
            </svg>
          </div>
          
          <div class="absolute -bottom-4 -right-4 w-12 h-12 md:-bottom-8 md:-right-8 md:w-20 md:h-20 opacity-10 md:opacity-20 hidden md:block">
            <svg class="w-full h-full" viewBox="0 0 100 100">
              <circle cx="50" cy="50" r="25" fill="#7D8B6F" opacity="0.3" />
              <ellipse cx="35" cy="35" rx="15" ry="10" fill="#5C6B4F" opacity="0.4" transform="rotate(-30 35 35)" />
              <ellipse cx="65" cy="35" rx="15" ry="10" fill="#5C6B4F" opacity="0.4" transform="rotate(30 65 35)" />
            </svg>
          </div>
        </div>
        
        <!-- Romantic quote below envelope -->
        <div class="mt-8 md:mt-16 max-w-2xl text-center">
          <div class="relative inline-block">
            <svg class="absolute -left-6 md:-left-10 top-1/2 transform -translate-y-1/2 w-4 h-4 md:w-8 md:h-8 text-rose-gold/30" fill="currentColor" viewBox="0 0 24 24">
              <path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
            </svg>
            <p class="script-font text-lg md:text-2xl text-rose-gold italic px-8 md:px-12">
              "Love is about how much you love each other every day."
            </p>
            <svg class="absolute -right-6 md:-right-10 top-1/2 transform -translate-y-1/2 w-4 h-4 md:w-8 md:h-8 text-rose-gold/30" fill="currentColor" viewBox="0 0 24 24">
              <path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
            </svg>
          </div>
          <div class="mt-2 md:mt-4 text-deep-sage/60 romantic-title text-sm md:text-base">
            ~ Words from my heart to yours ~
          </div>
        </div>
      </div>
    </div>
   </section>
   
   <!-- Memories Section -->
   <section id="memories" class="min-h-screen py-12 md:py-20 relative">
    <div class="relative z-10 max-w-6xl mx-auto px-4 md:px-6">
      <h2 class="romantic-title text-3xl md:text-4xl lg:text-5xl text-center text-deep-sage mb-4">
        Petals of Our Memories
      </h2>
      <p class="text-center text-base md:text-xl text-deep-sage/70 italic mb-8 md:mb-16 max-w-2xl mx-auto">
        Each photo is a pressed flower in the book of our love story
      </p>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 mb-8 md:mb-12">
        <!-- Memory Upload 1 -->
        <div class="group relative">
          <div class="aspect-square rounded-2xl overflow-hidden shadow-lg transform group-hover:scale-105 transition-transform duration-500 bg-gradient-to-br from-blush to-cream">
            <div id="memory-1" class="w-full h-full flex flex-col items-center justify-center cursor-pointer transition-all duration-300 relative" onclick="uploadMemory(1)">
              <!-- Flower illustration placeholder -->
              <svg class="w-24 h-24 md:w-32 md:h-32 text-rose-gold/30 group-hover:text-rose-gold/50 transition-colors duration-300 mb-4" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="20" fill="currentColor" opacity="0.3" />
                <circle cx="50" cy="50" r="12" fill="currentColor" opacity="0.5" />
                <circle cx="50" cy="50" r="6" fill="currentColor" opacity="0.7" />
                <ellipse cx="35" cy="35" rx="10" ry="15" fill="currentColor" opacity="0.4" transform="rotate(-30 35 35)" />
                <ellipse cx="65" cy="35" rx="10" ry="15" fill="currentColor" opacity="0.4" transform="rotate(30 65 35)" />
              </svg>
              <span class="romantic-title text-rose-gold/50 group-hover:text-rose-gold transition-colors duration-300 text-sm md:text-base">Add Our Memory</span>
              <span class="text-xs text-deep-sage/50 mt-1 md:mt-2">Click to upload photo</span>
              
              <!-- Plus icon -->
              <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <div class="w-12 h-12 md:w-16 md:h-16 bg-rose-gold/80 rounded-full flex items-center justify-center">
                  <svg class="w-6 h-6 md:w-8 md:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                  </svg>
                </div>
              </div>
            </div>
          </div>
          <div class="mt-3 md:mt-4">
            <textarea class="w-full bg-transparent border-b border-deep-sage/20 focus:border-rose-gold focus:outline-none resize-none p-2 text-center italic text-deep-sage/70 placeholder-deep-sage/30 text-sm md:text-base" 
                      placeholder="Describe this beautiful moment..." 
                      rows="2"></textarea>
          </div>
        </div>
        
        <!-- Memory Upload 2 -->
        <div class="group relative">
          <div class="aspect-square rounded-2xl overflow-hidden shadow-lg transform group-hover:scale-105 transition-transform duration-500 bg-gradient-to-br from-blush to-cream">
            <div id="memory-2" class="w-full h-full flex flex-col items-center justify-center cursor-pointer transition-all duration-300 relative" onclick="uploadMemory(2)">
              <svg class="w-24 h-24 md:w-32 md:h-32 text-rose-gold/30 group-hover:text-rose-gold/50 transition-colors duration-300 mb-4" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="18" fill="currentColor" opacity="0.3" />
                <circle cx="50" cy="50" r="10" fill="currentColor" opacity="0.5" />
                <ellipse cx="40" cy="40" rx="8" ry="12" fill="currentColor" opacity="0.4" transform="rotate(-20 40 40)" />
                <ellipse cx="60" cy="40" rx="8" ry="12" fill="currentColor" opacity="0.4" transform="rotate(20 60 40)" />
              </svg>
              <span class="romantic-title text-rose-gold/50 group-hover:text-rose-gold transition-colors duration-300 text-sm md:text-base">Add Our Memory</span>
              <span class="text-xs text-deep-sage/50 mt-1 md:mt-2">Click to upload photo</span>
              
              <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <div class="w-12 h-12 md:w-16 md:h-16 bg-rose-gold/80 rounded-full flex items-center justify-center">
                  <svg class="w-6 h-6 md:w-8 md:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                  </svg>
                </div>
              </div>
            </div>
          </div>
          <div class="mt-3 md:mt-4">
            <textarea class="w-full bg-transparent border-b border-deep-sage/20 focus:border-rose-gold focus:outline-none resize-none p-2 text-center italic text-deep-sage/70 placeholder-deep-sage/30 text-sm md:text-base" 
                      placeholder="Describe this beautiful moment..." 
                      rows="2"></textarea>
          </div>
        </div>
        
        <!-- Memory Upload 3 -->
        <div class="group relative">
          <div class="aspect-square rounded-2xl overflow-hidden shadow-lg transform group-hover:scale-105 transition-transform duration-500 bg-gradient-to-br from-blush to-cream">
            <div id="memory-3" class="w-full h-full flex flex-col items-center justify-center cursor-pointer transition-all duration-300 relative" onclick="uploadMemory(3)">
              <svg class="w-24 h-24 md:w-32 md:h-32 text-rose-gold/30 group-hover:text-rose-gold/50 transition-colors duration-300 mb-4" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="22" fill="currentColor" opacity="0.3" />
                <circle cx="50" cy="50" r="14" fill="currentColor" opacity="0.5" />
                <circle cx="50" cy="50" r="8" fill="currentColor" opacity="0.7" />
                <ellipse cx="35" cy="35" rx="12" ry="18" fill="currentColor" opacity="0.4" transform="rotate(-25 35 35)" />
                <ellipse cx="65" cy="35" rx="12" ry="18" fill="currentColor" opacity="0.4" transform="rotate(25 65 35)" />
                <ellipse cx="35" cy="65" rx="12" ry="18" fill="currentColor" opacity="0.4" transform="rotate(25 35 65)" />
                <ellipse cx="65" cy="65" rx="12" ry="18" fill="currentColor" opacity="0.4" transform="rotate(-25 65 65)" />
              </svg>
              <span class="romantic-title text-rose-gold/50 group-hover:text-rose-gold transition-colors duration-300 text-sm md:text-base">Add Our Memory</span>
              <span class="text-xs text-deep-sage/50 mt-1 md:mt-2">Click to upload photo</span>
              
              <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <div class="w-12 h-12 md:w-16 md:h-16 bg-rose-gold/80 rounded-full flex items-center justify-center">
                  <svg class="w-6 h-6 md:w-8 md:h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                  </svg>
                </div>
              </div>
            </div>
          </div>
          <div class="mt-3 md:mt-4">
            <textarea class="w-full bg-transparent border-b border-deep-sage/20 focus:border-rose-gold focus:outline-none resize-none p-2 text-center italic text-deep-sage/70 placeholder-deep-sage/30 text-sm md:text-base" 
                      placeholder="Describe this beautiful moment..." 
                      rows="2"></textarea>
          </div>
        </div>
      </div>
      
      <!-- Final Message -->
      <div class="text-center mt-12 md:mt-20 pt-8 md:pt-12 border-t border-deep-sage/10">
        <div class="inline-block p-4 md:p-6 bg-gradient-to-br from-white to-blush rounded-3xl shadow-lg">
          <h3 class="script-font text-3xl md:text-4xl text-rose-gold mb-3 md:mb-4">To My Eternal Valentine</h3>
          <p class="text-base md:text-lg text-deep-sage/70 italic max-w-2xl mx-auto">
            Like these flowers that never truly fade, my love for you is eternal.<br class="hidden md:block">
            Through every season, in every bloom, my heart finds its home in you.
          </p>
          <div class="mt-4 md:mt-6">
            <div class="script-font text-xl md:text-2xl text-deep-sage" id="final-signature">Forever Yours</div>
            <div class="text-xs md:text-sm text-deep-sage/50 romantic-title mt-1 md:mt-2">January 28, 2026, and every day thereafter</div>
          </div>
        </div>
      </div>
    </div>
   </section>
   
   <!-- Hidden File Inputs -->
   <input type="file" id="memory-upload" class="hidden" accept="image/*" onchange="handleMemoryUpload(event)">
   <input type="file" id="song-upload" class="hidden" accept="audio/*" onchange="handleSongUpload(event)">
   <audio id="audio-player" preload="metadata"></audio>
  </div>

  <script>
    // Initialize floating petals
    function createFloatingPetals() {
      const container = document.getElementById('petal-container');
      const petalTypes = ['üåπ', 'üå∏', 'üå∫', 'üíê', 'üå∑', 'ü•Ä'];
      
      for (let i = 0; i < 20; i++) {
        setTimeout(() => {
          const petal = document.createElement('div');
          petal.className = 'floating-petal';
          petal.textContent = petalTypes[Math.floor(Math.random() * petalTypes.length)];
          petal.style.left = Math.random() * 100 + 'vw';
          petal.style.fontSize = (Math.random() * 16 + 12) + 'px';
          petal.style.opacity = Math.random() * 0.5 + 0.2;
          petal.style.color = ['#B76E79', '#7D8B6F', '#C9A9A6'][Math.floor(Math.random() * 3)];
          petal.style.animationDuration = Math.random() * 10 + 15 + 's';
          petal.style.animationDelay = Math.random() * 5 + 's';
          
          container.appendChild(petal);
          setTimeout(() => petal.remove(), 25000);
        }, i * 500);
      }
    }
    
    // Welcome screen functions
    function enterSite() {
      const welcomeSlide = document.getElementById('welcome-slide');
      const appWrapper = document.getElementById('app-wrapper');
      
      welcomeSlide.classList.add('fade-out');
      setTimeout(() => {
        welcomeSlide.style.display = 'none';
        appWrapper.classList.remove('hidden');
        
        // Auto-play music after entering site
        startAutoplayMusic();
      }, 1000);
    }
    
    // Auto-play music function (for when site is sent to partner)
    function startAutoplayMusic() {
      // Check if there's a default song or uploaded song
      if (songs.length > 0) {
        // Wait a moment for page to settle, then start playing
        setTimeout(() => {
          if (!isPlaying) {
            togglePlay();
            showAutoplayIndicator();
          }
        }, 1500);
      }
    }
    
    function showAutoplayIndicator() {
      const indicator = document.getElementById('autoplay-indicator');
      indicator.classList.remove('hidden');
      
      // Auto-hide after 5 seconds
      setTimeout(() => {
        indicator.classList.add('hidden');
      }, 5000);
    }
    
    function stopAutoplay() {
      if (isPlaying) {
        togglePlay();
      }
      const indicator = document.getElementById('autoplay-indicator');
      indicator.classList.add('hidden');
    }
    
    // Partner name input animation
    const partnerNameInput = document.getElementById('partner-name');
    const nameUnderline = document.getElementById('name-underline');
    const letterRecipient = document.getElementById('letter-recipient');
    
    partnerNameInput.addEventListener('focus', () => {
      nameUnderline.style.width = '80%';
    });
    
    partnerNameInput.addEventListener('blur', () => {
      if (!partnerNameInput.value) {
        nameUnderline.style.width = '0%';
      }
    });
    
    partnerNameInput.addEventListener('input', (e) => {
      const name = e.target.value || 'My Love';
      // Update letter recipient
      letterRecipient.textContent = name;
      // Update final signature
      document.getElementById('final-signature').textContent = `Forever Yours, ${name}`;
    });
    
    // Envelope opening
    let envelopeOpened = false;
    function openEnvelope() {
      if (envelopeOpened) return;
      
      const envelope = document.getElementById('envelope');
      const seal = document.getElementById('wax-seal');
      const letter = document.getElementById('letter-content');
      
      envelope.classList.add('envelope-open');
      seal.style.opacity = '0';
      seal.style.transform = 'translate(-50%, -50%) scale(0)';
      
      setTimeout(() => {
        letter.style.opacity = '1';
        letter.style.transform = 'translateY(0)';
        envelopeOpened = true;
        
        // Create some floating hearts
        createHearts();
      }, 500);
    }
    
    function createHearts() {
      const container = document.getElementById('petal-container');
      for (let i = 0; i < 15; i++) {
        setTimeout(() => {
          const heart = document.createElement('div');
          heart.className = 'floating-petal';
          heart.innerHTML = '‚ù§Ô∏è';
          heart.style.left = Math.random() * 100 + 'vw';
          heart.style.fontSize = (Math.random() * 20 + 16) + 'px';
          heart.style.animationDuration = Math.random() * 5 + 8 + 's';
          heart.style.animationDelay = Math.random() * 2 + 's';
          
          container.appendChild(heart);
          setTimeout(() => heart.remove(), 15000);
        }, i * 100);
      }
    }
    
    // Memory upload
    let currentMemorySlot = null;
    function uploadMemory(slot) {
      currentMemorySlot = slot;
      document.getElementById('memory-upload').click();
    }
    
    function handleMemoryUpload(event) {
      const file = event.target.files[0];
      if (!file) return;
      
      const reader = new FileReader();
      reader.onload = function(e) {
        const memoryDiv = document.getElementById(`memory-${currentMemorySlot}`);
        if (memoryDiv) {
          memoryDiv.innerHTML = `
            <img src="${e.target.result}" 
                 class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700" 
                 alt="Our memory">
            <div class="absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
          `;
          memoryDiv.classList.add('group');
        }
      };
      reader.readAsDataURL(file);
      event.target.value = '';
    }
    
    // Music player
    let audio = document.getElementById('audio-player');
    let isPlaying = false;
    let currentSongIndex = 0;
    let songs = [];
    
    // Check if on mobile
    const isMobile = window.innerWidth <= 768;
    
    // Show appropriate music player
    if (isMobile) {
      document.getElementById('music-player-bar').classList.remove('hidden');
    }
    
    function uploadSong() {
      document.getElementById('song-upload').click();
    }
    
    function handleSongUpload(event) {
      const file = event.target.files[0];
      if (!file) return;
      
      const reader = new FileReader();
      reader.onload = function(e) {
        songs.push({
          src: e.target.result,
          name: file.name.replace(/\.[^/.]+$/, ""),
          type: file.type
        });
        
        if (songs.length === 1) {
          loadSong(0);
        }
        
        updateNowPlaying();
      };
      reader.readAsDataURL(file);
      event.target.value = '';
    }
    
    function loadSong(index) {
      if (songs.length === 0) return;
      
      currentSongIndex = index;
      const song = songs[currentSongIndex];
      audio.src = song.src;
      updateNowPlaying();
    }
    
    function updateNowPlaying() {
      if (songs.length === 0) {
        document.getElementById('now-playing').textContent = 'Select a Song';
        document.getElementById('song-info').textContent = 'Upload a song that defines our love';
        document.getElementById('now-playing-bar').textContent = 'Select a Song';
      } else {
        const songName = songs[currentSongIndex].name;
        document.getElementById('now-playing').textContent = songName;
        document.getElementById('song-info').textContent = 'Our love song';
        document.getElementById('now-playing-bar').textContent = songName;
      }
    }
    
    function togglePlay() {
      if (songs.length === 0) {
        uploadSong();
        return;
      }
      
      if (isPlaying) {
        audio.pause();
      } else {
        audio.play();
      }
      isPlaying = !isPlaying;
      updatePlayButton();
    }
    
    function updatePlayButton() {
      const playIcon = document.getElementById('play-icon');
      const pauseIcon = document.getElementById('pause-icon');
      const playIconTop = document.getElementById('play-icon-top');
      const pauseIconTop = document.getElementById('pause-icon-top');
      const playIconBar = document.getElementById('play-icon-bar');
      const pauseIconBar = document.getElementById('pause-icon-bar');
      
      if (isPlaying) {
        playIcon?.classList.add('hidden');
        pauseIcon?.classList.remove('hidden');
        playIconTop?.classList.add('hidden');
        pauseIconTop?.classList.remove('hidden');
        playIconBar?.classList.add('hidden');
        pauseIconBar?.classList.remove('hidden');
      } else {
        playIcon?.classList.remove('hidden');
        pauseIcon?.classList.add('hidden');
        playIconTop?.classList.remove('hidden');
        pauseIconTop?.classList.add('hidden');
        playIconBar?.classList.remove('hidden');
        pauseIconBar?.classList.add('hidden');
      }
    }
    
    function previousSong() {
      if (songs.length === 0) return;
      currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
      loadSong(currentSongIndex);
      if (isPlaying) {
        audio.play();
      }
    }
    
    function nextSong() {
      if (songs.length === 0) return;
      currentSongIndex = (currentSongIndex + 1) % songs.length;
      loadSong(currentSongIndex);
      if (isPlaying) {
        audio.play();
      }
    }
    
    // Progress bar update
    audio.addEventListener('timeupdate', () => {
      const progressBar = document.getElementById('progress-bar');
      const progressBarBar = document.getElementById('progress-bar-bar');
      const currentTime = document.getElementById('current-time');
      const totalTime = document.getElementById('total-time');
      const currentTimeBar = document.getElementById('current-time-bar');
      const totalTimeBar = document.getElementById('total-time-bar');
      
      if (audio.duration) {
        const progress = (audio.currentTime / audio.duration) * 100;
        progressBar.value = progress;
        progressBarBar.value = progress;
        currentTime.textContent = formatTime(audio.currentTime);
        totalTime.textContent = formatTime(audio.duration);
        currentTimeBar.textContent = formatTime(audio.currentTime);
        totalTimeBar.textContent = formatTime(audio.duration);
      }
    });
    
    // Seek functionality
    document.getElementById('progress-bar').addEventListener('input', (e) => {
      if (audio.duration) {
        audio.currentTime = (e.target.value / 100) * audio.duration;
      }
    });
    
    document.getElementById('progress-bar-bar').addEventListener('input', (e) => {
      if (audio.duration) {
        audio.currentTime = (e.target.value / 100) * audio.duration;
      }
    });
    
    // Format time helper
    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${mins}:${secs.toString().padStart(2, '0')}`;
    }
    
    // Scroll to memories
    function scrollToMemories() {
      document.getElementById('memories').scrollIntoView({ behavior: 'smooth' });
    }
    
    // Initialize with a default romantic song (can be replaced by user)
    // This ensures music plays automatically when site is shared
    const defaultSong = {
      src: 'https://assets.codepen.io/1468070/romantic-music.mp3', // Placeholder - user should upload their own
      name: 'Our Love Song',
      type: 'audio/mpeg'
    };
    
    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      createFloatingPetals();
      
      // Add default song
      songs.push(defaultSong);
      loadSong(0);
      updateNowPlaying();
      
      // Auto-play petals animation
      setInterval(() => {
        if (Math.random() > 0.7) {
          createFloatingPetals();
        }
      }, 10000);
    });
  </script>
 </body>
</html>

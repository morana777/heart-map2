<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blooming Romance - A Valentine's Love Letter</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Playfair+Display:ital,wght@0,400;0,500;1,400&family=Dancing+Script:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    :root {
      --cream: #FDF8F3;
      --sage: #7D8B6F;
      --deep-sage: #5C6B4F;
      --blush: #E8DDD4;
      --moss: #4A5D3E;
      --rose-gold: #B76E79;
      --dusty-rose: #C9A9A6;
    }
    
    body {
      background: linear-gradient(135deg, #FDF8F3 0%, #F9F5F0 100%);
      font-family: 'Playfair Display', serif;
      color: var(--deep-sage);
      overflow-x: hidden;
      cursor: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="%237D8B6F" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') 12 12, auto;
    }
    
    .romantic-title {
      font-family: 'Cormorant Garamond', serif;
    }
    
    .script-font {
      font-family: 'Dancing Script', cursive;
    }
    
    .scroll-smooth {
      scroll-behavior: smooth;
    }
    
    /* Floating petal animation */
    @keyframes floatPetal {
      0% {
        transform: translateY(100vh) rotate(0deg) translateX(0);
        opacity: 0;
      }
      10% {
        opacity: 0.7;
      }
      90% {
        opacity: 0.7;
      }
      100% {
        transform: translateY(-100px) rotate(360deg) translateX(100px);
        opacity: 0;
      }
    }
    
    .floating-petal {
      position: fixed;
      pointer-events: none;
      z-index: 0;
      animation: floatPetal linear forwards;
    }
    
    /* Rose heart animation */
    @keyframes pulseHeart {
      0%, 100% {
        transform: scale(1);
        filter: drop-shadow(0 0 10px rgba(183, 110, 121, 0.3));
      }
      50% {
        transform: scale(1.05);
        filter: drop-shadow(0 0 20px rgba(183, 110, 121, 0.5));
      }
    }
    
    .pulse-heart {
      animation: pulseHeart 3s ease-in-out infinite;
    }
    
    /* Envelope animation */
    @keyframes envelopeOpen {
      0% {
        transform: translateY(0) rotateX(0);
      }
      50% {
        transform: translateY(-20px) rotateX(10deg);
      }
      100% {
        transform: translateY(0) rotateX(0);
      }
    }
    
    .envelope-open {
      animation: envelopeOpen 2s ease-in-out;
    }
    
    /* Heart-shaped letter container */
    .heart-letter-container {
      position: relative;
      width: 100%;
      max-width: 500px;
      margin: 0 auto;
    }
    
    .heart-letter {
      background: linear-gradient(to bottom, #fffbf6 0%, #fef9f3 100%);
      background-image: 
        radial-gradient(#d4c4b5 1px, transparent 1px),
        radial-gradient(#d4c4b5 1px, transparent 1px);
      background-size: 30px 30px;
      background-position: 0 0, 15px 15px;
      filter: sepia(10%);
      clip-path: polygon(50% 0%, 100% 35%, 100% 100%, 0 100%, 0 35%);
      padding: 60px 40px 40px;
      min-height: 500px;
      transform: rotate(-2deg);
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    
    /* Letter text styling */
    .letter-text {
      font-family: 'Dancing Script', cursive;
      font-size: 1.5rem;
      line-height: 1.8;
      color: #5C6B4F;
      text-align: center;
      white-space: pre-line;
    }
    
    .letter-line {
      display: block;
      margin-bottom: 0.5rem;
    }
    
    /* Luxury shimmer effect */
    @keyframes shimmer {
      0% {
        background-position: -100% 0;
      }
      100% {
        background-position: 200% 0;
      }
    }
    
    .luxury-shimmer {
      background: linear-gradient(
        90deg,
        rgba(253, 248, 243, 0) 0%,
        rgba(255, 255, 255, 0.6) 50%,
        rgba(253, 248, 243, 0) 100%
      );
      background-size: 200% 100%;
      animation: shimmer 3s infinite;
    }
    
    /* Vine border animation */
    @keyframes growVine {
      from {
        stroke-dashoffset: 1000;
      }
      to {
        stroke-dashoffset: 0;
      }
    }
    
    .growing-vine {
      stroke-dasharray: 1000;
      stroke-dashoffset: 1000;
      animation: growVine 4s ease-out forwards;
    }
    
    /* Romantic glow */
    .romantic-glow {
      filter: drop-shadow(0 0 20px rgba(183, 110, 121, 0.3));
    }
    
    /* 3D card effect */
    .card-3d {
      transform-style: preserve-3d;
      transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    .card-3d:hover {
      transform: perspective(1000px) rotateY(5deg) rotateX(5deg) translateZ(20px);
    }
    
    /* Scroll indicator */
    @keyframes bounceDown {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(10px);
      }
    }
    
    .bounce-down {
      animation: bounceDown 2s ease-in-out infinite;
    }
    
    /* Music player wave */
    @keyframes musicWave {
      0%, 100% {
        height: 10px;
      }
      50% {
        height: 30px;
      }
    }
    
    .music-wave {
      animation: musicWave 1.5s ease-in-out infinite;
    }
    
    /* Flower illustration styles */
    .flower-illustration {
      fill: none;
      stroke: var(--rose-gold);
      stroke-width: 1.5;
    }
    
    .leaf-illustration {
      fill: var(--sage);
      opacity: 0.7;
    }
    
    /* Envelope styles */
    .envelope-container {
      position: relative;
      width: 100%;
      max-width: 500px;
      margin: 0 auto;
    }
    
    .envelope-base {
      background: linear-gradient(145deg, #f7f2ec, #f0e6dd);
      border-radius: 12px;
      box-shadow: 0 20px 40px rgba(183, 110, 121, 0.2);
      position: relative;
      padding: 40px;
      min-height: 400px;
      border: 2px solid #E8DDD4;
    }
    
    .envelope-flap {
      position: absolute;
      top: -50px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 150px solid transparent;
      border-right: 150px solid transparent;
      border-bottom: 80px solid #B76E79;
      z-index: 1;
      transition: all 0.7s ease;
    }
    
    .envelope-open .envelope-flap {
      border-bottom-width: 0;
      top: -30px;
    }
    
    .wax-seal {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80px;
      height: 80px;
      background: radial-gradient(circle at 30% 30%, #B76E79, #8b0000);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 5px 15px rgba(139, 0, 0, 0.4);
      cursor: pointer;
      transition: all 0.7s ease;
      z-index: 2;
    }
    
    .envelope-open .wax-seal {
      opacity: 0;
      transform: translate(-50%, -50%) scale(0);
    }
  </style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <!-- Floating Petals -->
  <div id="petal-container" class="fixed inset-0 pointer-events-none z-0"></div>
  
  <!-- Navigation Roses -->
  <nav class="fixed right-6 top-1/2 transform -translate-y-1/2 z-50 flex flex-col gap-6">
    <a href="#hero" class="nav-rose group" title="Beginning">
      <div class="w-4 h-4 bg-rose-gold rounded-full transition-all duration-300 group-hover:scale-150 group-hover:shadow-lg"></div>
      <span class="absolute right-6 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity text-sm text-rose-gold romantic-title whitespace-nowrap">Beginning</span>
    </a>
    <a href="#letter" class="nav-rose group" title="Love Letter">
      <div class="w-4 h-4 bg-rose-gold rounded-full transition-all duration-300 group-hover:scale-150 group-hover:shadow-lg"></div>
      <span class="absolute right-6 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity text-sm text-rose-gold romantic-title whitespace-nowrap">Love Letter</span>
    </a>
    <a href="#memories" class="nav-rose group" title="Memories">
      <div class="w-4 h-4 bg-rose-gold rounded-full transition-all duration-300 group-hover:scale-150 group-hover:shadow-lg"></div>
      <span class="absolute right-6 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity text-sm text-rose-gold romantic-title whitespace-nowrap">Memories</span>
    </a>
  </nav>

  <div id="app-wrapper" class="h-full w-full overflow-auto scroll-smooth">
   
   <!-- Hero Section with Illustrations -->
   <section id="hero" class="min-h-screen relative flex items-center justify-center overflow-hidden">
    <!-- Background with Illustrated Flowers -->
    <div class="absolute inset-0">
      <!-- Left Illustration: Rose Vine -->
      <svg class="absolute left-0 bottom-0 w-64 h-64 opacity-20" viewBox="0 0 200 200">
        <path class="flower-illustration" d="M50 180 Q30 120, 60 80 Q90 40, 120 60 Q150 80, 160 120 Q170 160, 140 180" />
        <circle cx="90" cy="85" r="12" fill="#B76E79" opacity="0.6" />
        <ellipse cx="75" cy="75" rx="8" ry="12" fill="#B76E79" opacity="0.5" transform="rotate(-30 75 75)" />
        <ellipse cx="105" cy="75" rx="8" ry="12" fill="#B76E79" opacity="0.5" transform="rotate(30 105 75)" />
        <path class="leaf-illustration" d="M40 140 Q20 120, 30 100" />
        <path class="leaf-illustration" d="M70 160 Q50 140, 60 120" />
      </svg>
      
      <!-- Right Illustration: Floral Cluster -->
      <svg class="absolute right-0 top-0 w-56 h-56 opacity-15" viewBox="0 0 200 200">
        <circle cx="150" cy="60" r="15" fill="#C9A9A6" opacity="0.7" />
        <circle cx="130" cy="80" r="12" fill="#B76E79" opacity="0.6" />
        <circle cx="170" cy="90" r="10" fill="#7D8B6F" opacity="0.5" />
        <path class="leaf-illustration" d="M140 100 Q120 120, 130 140" />
        <path class="leaf-illustration" d="M160 110 Q180 130, 170 150" />
      </svg>
      
      <!-- Center Rose Illustration -->
      <div class="absolute inset-0 flex items-center justify-center">
        <svg class="w-64 h-64 pulse-heart" viewBox="0 0 200 200">
          <!-- Rose -->
          <ellipse cx="100" cy="80" rx="40" ry="35" fill="#B76E79" opacity="0.8" />
          <ellipse cx="100" cy="80" rx="30" ry="25" fill="#FDF8F3" opacity="0.9" />
          <ellipse cx="100" cy="80" rx="15" ry="12" fill="#C9A9A6" opacity="0.7" />
          
          <!-- Outer petals -->
          <ellipse cx="70" cy="70" rx="20" ry="30" fill="#B76E79" opacity="0.6" transform="rotate(-20 70 70)" />
          <ellipse cx="130" cy="70" rx="20" ry="30" fill="#B76E79" opacity="0.6" transform="rotate(20 130 70)" />
          <ellipse cx="80" cy="100" rx="20" ry="25" fill="#C9A9A6" opacity="0.5" transform="rotate(-10 80 100)" />
          <ellipse cx="120" cy="100" rx="20" ry="25" fill="#C9A9A6" opacity="0.5" transform="rotate(10 120 100)" />
          
          <!-- Stem and leaves -->
          <path d="M100 115 L100 170" stroke="#7D8B6F" stroke-width="4" fill="none" />
          <ellipse cx="85" cy="140" rx="15" ry="8" fill="#5C6B4F" transform="rotate(-30 85 140)" />
          <ellipse cx="115" cy="150" rx="12" ry="6" fill="#7D8B6F" transform="rotate(25 115 150)" />
        </svg>
      </div>
    </div>
    
    <!-- Main Content -->
    <div class="relative z-10 text-center px-6 max-w-4xl">
      <div class="mb-8">
        <h1 class="romantic-title text-5xl md:text-7xl lg:text-8xl text-deep-sage mb-4">
          <span class="block">My Dearest</span>
          <input type="text" 
                 id="partner-name" 
                 placeholder="My Love" 
                 class="script-font text-6xl md:text-8xl lg:text-9xl text-rose-gold bg-transparent border-none outline-none text-center w-full max-w-md mx-auto placeholder-rose-gold/50 focus:placeholder-transparent transition-all duration-500">
        </h1>
        
        <div class="h-px w-0 mx-auto bg-gradient-to-r from-transparent via-rose-gold to-transparent transition-all duration-1000" id="name-underline"></div>
      </div>
      
      <p class="text-xl md:text-2xl text-deep-sage/70 italic max-w-2xl mx-auto mb-12 leading-relaxed">
        Every rose in this garden represents a reason why I love you.<br>
        Every petal holds a memory of us.
      </p>
      
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
        <a href="#letter" class="group relative px-8 py-4 bg-rose-gold text-cream rounded-full overflow-hidden transition-all duration-500 hover:shadow-xl hover:-translate-y-1">
          <span class="relative z-10 romantic-title tracking-widest">Open My Heart</span>
          <div class="absolute inset-0 bg-gradient-to-r from-moss to-deep-sage transform -skew-x-12 translate-x-full group-hover:translate-x-0 transition-transform duration-500"></div>
        </a>
        
        <button onclick="playRomanticMusic()" class="group px-8 py-4 border-2 border-rose-gold text-rose-gold rounded-full hover:bg-rose-gold hover:text-cream transition-all duration-300 flex items-center gap-3">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
          </svg>
          <span class="romantic-title tracking-widest">Play Our Song</span>
        </button>
      </div>
      
      <div class="mt-20 bounce-down">
        <span class="text-sm text-deep-sage/50 tracking-widest romantic-title">Scroll to explore our garden</span>
        <svg class="w-6 h-6 mx-auto mt-2 text-rose-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>
        </svg>
      </div>
    </div>
   </section>
   
   <!-- Envelope & Letter Section -->
   <section id="letter" class="min-h-screen py-20 bg-gradient-to-b from-cream to-blush relative">
    <div class="max-w-6xl mx-auto px-6">
      <h2 class="romantic-title text-4xl md:text-5xl text-center text-deep-sage mb-16">
        <span class="block mb-2">Sealed with Love</span>
        <span class="text-2xl md:text-3xl text-rose-gold italic">Click the envelope to reveal my heart</span>
      </h2>
      
      <div class="flex flex-col items-center justify-center gap-12">
        <!-- Envelope Container -->
        <div class="envelope-container">
          <div id="envelope" class="relative cursor-pointer transition-all duration-500 hover:scale-105" onclick="openEnvelope()">
            <!-- Envelope Base -->
            <div class="envelope-base">
              <!-- Envelope Flap -->
              <div id="envelope-flap" class="envelope-flap"></div>
              
              <!-- Red Wax Seal -->
              <div id="wax-seal" class="wax-seal" onclick="openEnvelope()">
                <svg class="w-10 h-10 text-cream" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                </svg>
              </div>
              
              <!-- Letter that appears when opened -->
              <div id="letter-content" class="heart-letter-container opacity-0 transition-all duration-700 transform translate-y-10">
                <div class="heart-letter">
                  <div class="relative">
                    <div class="absolute -top-8 left-1/2 transform -translate-x-1/2">
                      <svg class="w-12 h-12 text-rose-gold/50" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                      </svg>
                    </div>
                    
                    <textarea id="love-letter" 
                              class="w-full h-full min-h-[400px] bg-transparent border-none resize-none focus:outline-none letter-text placeholder-deep-sage/50"
                              placeholder="My dearest love, write your heart out here...">
My  
Dearest  
[Name],  

From the  
moment  
our paths  
crossed,  
my world  
has been  
painted  
in shades  
of rose  
and gold.  

Your smile  
is the sunrise  
that brightens  
my darkest  
days,  

And your love  
is the gentle rain  
that nourishes  
my soul.  

Like these flowers  
that never fade  
in my heart,  

My love for you  
grows more beautiful  
with each passing  
season.  

You are the garden  
where all my dreams  
take root,  

The sanctuary  
where my soul  
finds peace.  

On this Valentine's Day,  
I want you to know  
that every petal,  
every thorn,  
every moment  
has been worth it -  
because it led me to you.  

January  
28, 2026  

Always Yours
                    </textarea>
                  </div>
                </div>
              </div>
              
              <p class="text-center mt-6 text-deep-sage/50 italic">Click the red seal to open</p>
            </div>
          </div>
        </div>
        
        <!-- Instructions for personalization -->
        <div class="max-w-2xl mx-auto text-center bg-white/50 p-8 rounded-3xl shadow-lg">
          <h3 class="romantic-title text-2xl text-deep-sage mb-4">Personalize Your Love Letter</h3>
          <p class="text-deep-sage/70 mb-6">
            Click on the text in the heart-shaped letter to edit it. Write your own heartfelt message to your beloved. 
            The name you entered above will automatically appear in the letter where [Name] is written.
          </p>
          <div class="flex items-center justify-center gap-4 text-sm text-deep-sage/60">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
            </svg>
            <span>Click anywhere in the letter to edit the text</span>
          </div>
        </div>
      </div>
    </div>
   </section>
   
   <!-- Memories Section -->
   <section id="memories" class="min-h-screen py-20 relative">
    <!-- Decorative background with subtle illustrations -->
    <div class="absolute inset-0 opacity-5">
      <svg class="w-full h-full" viewBox="0 0 1000 1000">
        <!-- Scattered small flowers -->
        <circle cx="100" cy="150" r="15" fill="#B76E79" opacity="0.3" />
        <circle cx="300" cy="80" r="12" fill="#7D8B6F" opacity="0.3" />
        <circle cx="700" cy="120" r="10" fill="#C9A9A6" opacity="0.3" />
        <circle cx="900" cy="200" r="14" fill="#B76E79" opacity="0.3" />
        <circle cx="200" cy="300" r="11" fill="#7D8B6F" opacity="0.3" />
        <circle cx="800" cy="350" r="13" fill="#C9A9A6" opacity="0.3" />
        <circle cx="150" cy="500" r="9" fill="#B76E79" opacity="0.3" />
        <circle cx="600" cy="450" r="16" fill="#7D8B6F" opacity="0.3" />
        <circle cx="400" cy="600" r="12" fill="#C9A9A6" opacity="0.3" />
        <circle cx="850" cy="550" r="10" fill="#B76E79" opacity="0.3" />
      </svg>
    </div>
    
    <div class="relative z-10 max-w-6xl mx-auto px-6">
      <h2 class="romantic-title text-4xl md:text-5xl text-center text-deep-sage mb-4">
        Petals of Our Memories
      </h2>
      <p class="text-center text-xl text-deep-sage/70 italic mb-16 max-w-2xl mx-auto">
        Each photo is a pressed flower in the book of our love story
      </p>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
        <!-- Memory Upload 1 -->
        <div class="group relative">
          <div class="aspect-square rounded-2xl overflow-hidden shadow-lg transform group-hover:scale-105 transition-transform duration-500 bg-gradient-to-br from-blush to-cream">
            <div id="memory-1" class="w-full h-full flex flex-col items-center justify-center cursor-pointer transition-all duration-300 relative" onclick="uploadMemory(1)">
              <!-- Flower illustration placeholder -->
              <svg class="w-32 h-32 text-rose-gold/30 group-hover:text-rose-gold/50 transition-colors duration-300 mb-4" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="20" fill="currentColor" opacity="0.3" />
                <circle cx="50" cy="50" r="12" fill="currentColor" opacity="0.5" />
                <circle cx="50" cy="50" r="6" fill="currentColor" opacity="0.7" />
                <ellipse cx="35" cy="35" rx="10" ry="15" fill="currentColor" opacity="0.4" transform="rotate(-30 35 35)" />
                <ellipse cx="65" cy="35" rx="10" ry="15" fill="currentColor" opacity="0.4" transform="rotate(30 65 35)" />
              </svg>
              <span class="romantic-title text-rose-gold/50 group-hover:text-rose-gold transition-colors duration-300">Add Our Memory</span>
              <span class="text-xs text-deep-sage/50 mt-2">Click to upload photo</span>
              
              <!-- Plus icon -->
              <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <div class="w-16 h-16 bg-rose-gold/80 rounded-full flex items-center justify-center">
                  <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                  </svg>
                </div>
              </div>
            </div>
          </div>
          <div class="mt-4">
            <textarea class="w-full bg-transparent border-b border-deep-sage/20 focus:border-rose-gold focus:outline-none resize-none p-2 text-center italic text-deep-sage/70 placeholder-deep-sage/30" 
                      placeholder="Describe this beautiful moment..." 
                      rows="2"></textarea>
          </div>
        </div>
        
        <!-- Memory Upload 2 -->
        <div class="group relative">
          <div class="aspect-square rounded-2xl overflow-hidden shadow-lg transform group-hover:scale-105 transition-transform duration-500 bg-gradient-to-br from-blush to-cream">
            <div id="memory-2" class="w-full h-full flex flex-col items-center justify-center cursor-pointer transition-all duration-300 relative" onclick="uploadMemory(2)">
              <svg class="w-32 h-32 text-rose-gold/30 group-hover:text-rose-gold/50 transition-colors duration-300 mb-4" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="18" fill="currentColor" opacity="0.3" />
                <circle cx="50" cy="50" r="10" fill="currentColor" opacity="0.5" />
                <ellipse cx="40" cy="40" rx="8" ry="12" fill="currentColor" opacity="0.4" transform="rotate(-20 40 40)" />
                <ellipse cx="60" cy="40" rx="8" ry="12" fill="currentColor" opacity="0.4" transform="rotate(20 60 40)" />
              </svg>
              <span class="romantic-title text-rose-gold/50 group-hover:text-rose-gold transition-colors duration-300">Add Our Memory</span>
              <span class="text-xs text-deep-sage/50 mt-2">Click to upload photo</span>
              
              <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <div class="w-16 h-16 bg-rose-gold/80 rounded-full flex items-center justify-center">
                  <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                  </svg>
                </div>
              </div>
            </div>
          </div>
          <div class="mt-4">
            <textarea class="w-full bg-transparent border-b border-deep-sage/20 focus:border-rose-gold focus:outline-none resize-none p-2 text-center italic text-deep-sage/70 placeholder-deep-sage/30" 
                      placeholder="Describe this beautiful moment..." 
                      rows="2"></textarea>
          </div>
        </div>
        
        <!-- Memory Upload 3 -->
        <div class="group relative">
          <div class="aspect-square rounded-2xl overflow-hidden shadow-lg transform group-hover:scale-105 transition-transform duration-500 bg-gradient-to-br from-blush to-cream">
            <div id="memory-3" class="w-full h-full flex flex-col items-center justify-center cursor-pointer transition-all duration-300 relative" onclick="uploadMemory(3)">
              <svg class="w-32 h-32 text-rose-gold/30 group-hover:text-rose-gold/50 transition-colors duration-300 mb-4" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="22" fill="currentColor" opacity="0.3" />
                <circle cx="50" cy="50" r="14" fill="currentColor" opacity="0.5" />
                <circle cx="50" cy="50" r="8" fill="currentColor" opacity="0.7" />
                <ellipse cx="35" cy="35" rx="12" ry="18" fill="currentColor" opacity="0.4" transform="rotate(-25 35 35)" />
                <ellipse cx="65" cy="35" rx="12" ry="18" fill="currentColor" opacity="0.4" transform="rotate(25 65 35)" />
                <ellipse cx="35" cy="65" rx="12" ry="18" fill="currentColor" opacity="0.4" transform="rotate(25 35 65)" />
                <ellipse cx="65" cy="65" rx="12" ry="18" fill="currentColor" opacity="0.4" transform="rotate(-25 65 65)" />
              </svg>
              <span class="romantic-title text-rose-gold/50 group-hover:text-rose-gold transition-colors duration-300">Add Our Memory</span>
              <span class="text-xs text-deep-sage/50 mt-2">Click to upload photo</span>
              
              <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <div class="w-16 h-16 bg-rose-gold/80 rounded-full flex items-center justify-center">
                  <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                  </svg>
                </div>
              </div>
            </div>
          </div>
          <div class="mt-4">
            <textarea class="w-full bg-transparent border-b border-deep-sage/20 focus:border-rose-gold focus:outline-none resize-none p-2 text-center italic text-deep-sage/70 placeholder-deep-sage/30" 
                      placeholder="Describe this beautiful moment..." 
                      rows="2"></textarea>
          </div>
        </div>
      </div>
      
      <!-- Music Player -->
      <div class="max-w-2xl mx-auto mt-20">
        <div class="luxury-shimmer rounded-3xl p-8 bg-gradient-to-br from-white to-blush shadow-xl border border-deep-sage/10">
          <h3 class="romantic-title text-3xl text-center text-deep-sage mb-8">Our Love's Soundtrack</h3>
          
          <div class="flex flex-col items-center gap-6">
            <div id="music-visualizer" class="flex items-end gap-1 h-20">
              <!-- Music bars will be generated by JS -->
            </div>
            
            <div class="text-center">
              <div id="now-playing" class="script-font text-2xl text-rose-gold mb-2">Select a Song</div>
              <div id="song-info" class="text-deep-sage/70 text-sm italic">Upload a song that defines our love</div>
            </div>
            
            <div class="flex items-center gap-4">
              <button onclick="previousSong()" class="p-3 rounded-full bg-rose-gold/10 hover:bg-rose-gold/20 transition-colors">
                <svg class="w-6 h-6 text-rose-gold" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
                </svg>
              </button>
              
              <button onclick="togglePlay()" id="play-btn" class="p-4 rounded-full bg-rose-gold text-white hover:bg-rose-gold/90 transition-colors shadow-lg">
                <svg id="play-icon" class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M8 5v14l11-7z"/>
                </svg>
                <svg id="pause-icon" class="w-8 h-8 hidden" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
                </svg>
              </button>
              
              <button onclick="nextSong()" class="p-3 rounded-full bg-rose-gold/10 hover:bg-rose-gold/20 transition-colors">
                <svg class="w-6 h-6 text-rose-gold" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/>
                </svg>
              </button>
            </div>
            
            <div class="w-full max-w-md">
              <div class="flex justify-between text-sm text-deep-sage/70 mb-2">
                <span id="current-time">0:00</span>
                <span id="total-time">0:00</span>
              </div>
              <input type="range" min="0" max="100" value="0" class="w-full h-2 bg-deep-sage/20 rounded-full appearance-none [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-rose-gold" id="progress-bar">
            </div>
            
            <button onclick="uploadSong()" class="px-6 py-3 rounded-full border-2 border-rose-gold text-rose-gold hover:bg-rose-gold hover:text-white transition-colors flex items-center gap-3">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"/>
              </svg>
              <span class="romantic-title">Upload Our Song</span>
            </button>
          </div>
        </div>
      </div>
      
      <!-- Final Message -->
      <div class="text-center mt-20 pt-12 border-t border-deep-sage/10">
        <div class="inline-block p-6 bg-gradient-to-br from-white to-blush rounded-3xl shadow-lg">
          <h3 class="script-font text-4xl text-rose-gold mb-4" id="final-greeting">To My Eternal Valentine</h3>
          <p class="text-lg text-deep-sage/70 italic max-w-2xl mx-auto">
            Like these flowers that never truly fade, my love for you is eternal.<br>
            Through every season, in every bloom, my heart finds its home in you.
          </p>
          <div class="mt-6">
            <div class="script-font text-2xl text-deep-sage" id="final-signature">Forever Yours</div>
            <div class="text-sm text-deep-sage/50 romantic-title mt-2">January 28, 2026, and every day thereafter</div>
          </div>
        </div>
      </div>
    </div>
   </section>
   
   <!-- Hidden File Inputs -->
   <input type="file" id="memory-upload" class="hidden" accept="image/*" onchange="handleMemoryUpload(event)">
   <input type="file" id="song-upload" class="hidden" accept="audio/*" onchange="handleSongUpload(event)">
   <audio id="audio-player" preload="metadata"></audio>
  </div>

  <script>
    // Initialize floating petals
    function createFloatingPetals() {
      const container = document.getElementById('petal-container');
      const petalTypes = ['üåπ', 'üå∏', 'üå∫', 'üíê', 'üå∑', 'ü•Ä'];
      
      for (let i = 0; i < 30; i++) {
        setTimeout(() => {
          const petal = document.createElement('div');
          petal.className = 'floating-petal';
          petal.textContent = petalTypes[Math.floor(Math.random() * petalTypes.length)];
          petal.style.left = Math.random() * 100 + 'vw';
          petal.style.fontSize = Math.random() * 20 + 16 + 'px';
          petal.style.opacity = Math.random() * 0.5 + 0.2;
          petal.style.color = ['#B76E79', '#7D8B6F', '#C9A9A6'][Math.floor(Math.random() * 3)];
          petal.style.animationDuration = Math.random() * 10 + 15 + 's';
          petal.style.animationDelay = Math.random() * 5 + 's';
          
          container.appendChild(petal);
          setTimeout(() => petal.remove(), 25000);
        }, i * 500);
      }
    }
    
    // Partner name input animation
    const partnerNameInput = document.getElementById('partner-name');
    const nameUnderline = document.getElementById('name-underline');
    const loveLetter = document.getElementById('love-letter');
    
    partnerNameInput.addEventListener('focus', () => {
      nameUnderline.style.width = '80%';
    });
    
    partnerNameInput.addEventListener('blur', () => {
      if (!partnerNameInput.value) {
        nameUnderline.style.width = '0%';
      }
    });
    
    partnerNameInput.addEventListener('input', (e) => {
      const name = e.target.value || 'My Love';
      // Update signature in letter
      if (loveLetter.value.includes('[Name]')) {
        loveLetter.value = loveLetter.value.replace(/\[Name\]/g, name);
      }
      // Update final signature
      document.getElementById('final-signature').textContent = `Forever Yours, ${name}`;
      document.getElementById('final-greeting').textContent = `To My Dearest ${name}`;
    });
    
    // Also update letter when user manually types in the letter
    loveLetter.addEventListener('input', (e) => {
      const name = partnerNameInput.value || 'My Love';
      if (e.target.value.includes('[Name]')) {
        e.target.value = e.target.value.replace(/\[Name\]/g, name);
      }
    });
    
    // Envelope opening
    let envelopeOpened = false;
    function openEnvelope() {
      if (envelopeOpened) return;
      
      const envelope = document.getElementById('envelope');
      const flap = document.getElementById('envelope-flap');
      const seal = document.getElementById('wax-seal');
      const letter = document.getElementById('letter-content');
      
      envelope.classList.add('envelope-open');
      flap.style.borderBottomWidth = '0px';
      seal.style.opacity = '0';
      seal.style.transform = 'translate(-50%, -50%) scale(0)';
      
      setTimeout(() => {
        letter.style.opacity = '1';
        letter.style.transform = 'translateY(0)';
        envelopeOpened = true;
        
        // Create some floating hearts
        createHearts();
        
        // Focus on the letter textarea for easy editing
        setTimeout(() => {
          loveLetter.focus();
        }, 500);
      }, 500);
    }
    
    function createHearts() {
      const container = document.getElementById('petal-container');
      for (let i = 0; i < 20; i++) {
        setTimeout(() => {
          const heart = document.createElement('div');
          heart.className = 'floating-petal';
          heart.innerHTML = '‚ù§Ô∏è';
          heart.style.left = Math.random() * 100 + 'vw';
          heart.style.fontSize = Math.random() * 24 + 20 + 'px';
          heart.style.animationDuration = Math.random() * 5 + 8 + 's';
          heart.style.animationDelay = Math.random() * 2 + 's';
          
          container.appendChild(heart);
          setTimeout(() => heart.remove(), 15000);
        }, i * 100);
      }
    }
    
    // Memory upload
    let currentMemorySlot = null;
    function uploadMemory(slot) {
      currentMemorySlot = slot;
      document.getElementById('memory-upload').click();
    }
    
    function handleMemoryUpload(event) {
      const file = event.target.files[0];
      if (!file) return;
      
      const reader = new FileReader();
      reader.onload = function(e) {
        const memoryDiv = document.getElementById(`memory-${currentMemorySlot}`);
        if (memoryDiv) {
          memoryDiv.innerHTML = `
            <img src="${e.target.result}" 
                 class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700" 
                 alt="Our memory">
            <div class="absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
          `;
          memoryDiv.classList.add('group');
        }
      };
      reader.readAsDataURL(file);
      event.target.value = '';
    }
    
    // Music player
    let audio = document.getElementById('audio-player');
    let isPlaying = false;
    let currentSongIndex = 0;
    let songs = [];
    
    function uploadSong() {
      document.getElementById('song-upload').click();
    }
    
    function handleSongUpload(event) {
      const file = event.target.files[0];
      if (!file) return;
      
      const reader = new FileReader();
      reader.onload = function(e) {
        songs.push({
          src: e.target.result,
          name: file.name.replace(/\.[^/.]+$/, ""),
          type: file.type
        });
        
        if (songs.length === 1) {
          loadSong(0);
        }
        
        updateNowPlaying();
      };
      reader.readAsDataURL(file);
      event.target.value = '';
    }
    
    function loadSong(index) {
      if (songs.length === 0) return;
      
      currentSongIndex = index;
      const song = songs[currentSongIndex];
      audio.src = song.src;
      updateNowPlaying();
      createVisualizer();
    }
    
    function updateNowPlaying() {
      if (songs.length === 0) {
        document.getElementById('now-playing').textContent = 'Select a Song';
        document.getElementById('song-info').textContent = 'Upload a song that defines our love';
      } else {
        document.getElementById('now-playing').textContent = songs[currentSongIndex].name;
        document.getElementById('song-info').textContent = 'Our love song';
      }
    }
    
    function togglePlay() {
      if (songs.length === 0) {
        uploadSong();
        return;
      }
      
      if (isPlaying) {
        audio.pause();
      } else {
        audio.play();
      }
      isPlaying = !isPlaying;
      updatePlayButton();
    }
    
    function updatePlayButton() {
      const playIcon = document.getElementById('play-icon');
      const pauseIcon = document.getElementById('pause-icon');
      
      if (isPlaying) {
        playIcon.classList.add('hidden');
        pauseIcon.classList.remove('hidden');
      } else {
        playIcon.classList.remove('hidden');
        pauseIcon.classList.add('hidden');
      }
    }
    
    function previousSong() {
      if (songs.length === 0) return;
      currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
      loadSong(currentSongIndex);
      if (isPlaying) {
        audio.play();
      }
    }
    
    function nextSong() {
      if (songs.length === 0) return;
      currentSongIndex = (currentSongIndex + 1) % songs.length;
      loadSong(currentSongIndex);
      if (isPlaying) {
        audio.play();
      }
    }
    
    function createVisualizer() {
      const visualizer = document.getElementById('music-visualizer');
      visualizer.innerHTML = '';
      
      for (let i = 0; i < 20; i++) {
        const bar = document.createElement('div');
        bar.className = 'music-wave bg-rose-gold/50 rounded-full w-2';
        bar.style.animationDelay = `${i * 0.1}s`;
        bar.style.height = `${Math.random() * 40 + 10}px`;
        visualizer.appendChild(bar);
      }
    }
    
    // Progress bar update
    audio.addEventListener('timeupdate', () => {
      const progressBar = document.getElementById('progress-bar');
      const currentTime = document.getElementById('current-time');
      const totalTime = document.getElementById('total-time');
      
      if (audio.duration) {
        const progress = (audio.currentTime / audio.duration) * 100;
        progressBar.value = progress;
        currentTime.textContent = formatTime(audio.currentTime);
        totalTime.textContent = formatTime(audio.duration);
      }
    });
    
    // Seek functionality
    document.getElementById('progress-bar').addEventListener('input', (e) => {
      if (audio.duration) {
        audio.currentTime = (e.target.value / 100) * audio.duration;
      }
    });
    
    // Format time helper
    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${mins}:${secs.toString().padStart(2, '0')}`;
    }
    
    // Play romantic music (default)
    function playRomanticMusic() {
      if (songs.length === 0) {
        alert('Upload a song first to set the mood! üíï');
      } else {
        if (!isPlaying) {
          togglePlay();
        }
      }
    }
    
    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      createFloatingPetals();
      updateNowPlaying();
      
      // Auto-play petals animation
      setInterval(() => {
        if (Math.random() > 0.7) {
          createFloatingPetals();
        }
      }, 10000);
    });
    
    // Update current date in letter (already set to January 28, 2026)
    // The date is hardcoded in the HTML as per your image
  </script>
 </body>
</html>
